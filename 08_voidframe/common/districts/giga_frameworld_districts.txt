@base_cost = 300
@city_cost = 500
@advanced_cost = 1000
@advanced_rare_cost = 50
@advanced_double_cost = 2000
@advanced_double_rare_cost = 100
@mega_cost = 2000
@mega_alloy_cost = 500
@mega_rare_cost = 250

@base_upkeep = 1
@city_upkeep = 2
@advanced_upkeep = 5
@advanced_rare_upkeep = 1
@advanced_double_upkeep = 10
@advanced_double_rare_upkeep = 2
@mega_upkeep = 20
@mega_alloy_upkeep = 5
@mega_rare_upkeep = 5

@base_time = 240
@city_time = 480
@advanced_time = 720
@mega_time = 960

###############################################################################################################
###############################################################################################################
#          HABITATION
###############################################################################################################
###############################################################################################################

district_giga_frameworld_city = {
	base_buildtime = @city_time
	icon = district_city
	is_capped_by_modifier = no
	exempt_from_ai_planet_specialization = yes
	
	show_on_uncolonized = {
		exists = from
		from = { is_gestalt = no }
		OR = {
			uses_district_set = giga_frameworld
		}
		not = { has_planet_flag = frameworld_advanced_city }
		is_voidframe_upgraded = no
	}
	
	potential = {
		exists = owner
		owner = { is_gestalt = no }
		uses_district_set = giga_frameworld
		not = { has_planet_flag = frameworld_advanced_city }
		is_voidframe_upgraded = no
	}
	
	conversion_ratio = 1
	convert_to = {
		district_giga_frameworld_nexus
		district_giga_frameworld_hive
		
		district_giga_frameworld_city_advanced
		district_giga_frameworld_nexus_advanced
		district_giga_frameworld_hive_advanced

		district_giga_voidframe_city_dm
		district_giga_voidframe_city_de
		district_giga_voidframe_city_pe
		district_giga_voidframe_city_se

		district_giga_voidframe_hive_dm
		district_giga_voidframe_hive_de
		district_giga_voidframe_hive_pe
		district_giga_voidframe_hive_se

		district_giga_voidframe_nexus_dm
		district_giga_voidframe_nexus_de
		district_giga_voidframe_nexus_pe
		district_giga_voidframe_nexus_se
	}
	
	resources = {
		category = planet_districts_cities
		cost = {
			minerals = @city_cost
		}
		upkeep = {
			energy = @city_upkeep
		}
	}
	
	planet_modifier = {
		planet_housing_add = 5
		planet_max_buildings_add = 1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_valid_civic = civic_agrarian_idyll
			}
		}
		modifier = {
			planet_housing_add = -1
		}
	}

	inline_script = {
		script = planet/maintenance/giga_clerk_job_swap
		jobs = 1
		district = @yes
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_active_tradition = tr_prosperity_public_works }
		}
		modifier = {
			planet_housing_add = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_technology = tech_housing_1
			}
		}
		modifier = {
			planet_housing_add = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_technology = tech_housing_2
				NOT = { has_valid_civic = civic_agrarian_idyll }
			}
		}
		modifier = {
			planet_housing_add = 1
		}
	}

}

district_giga_frameworld_city_advanced = {
	base_buildtime = @advanced_time
	icon = district_city
	is_capped_by_modifier = no
	exempt_from_ai_planet_specialization = yes
	
	show_on_uncolonized = {
		exists = from
		from = { is_gestalt = no }
		uses_district_set = giga_frameworld
		has_planet_flag = frameworld_advanced_city
		is_voidframe_upgraded = no
	}
	
	potential = {
		exists = owner
		owner = { is_gestalt = no }
		uses_district_set = giga_frameworld
		has_planet_flag = frameworld_advanced_city
		is_voidframe_upgraded = no
	}
	
	conversion_ratio = 1
	convert_to = {
		district_giga_frameworld_nexus
		district_giga_frameworld_hive
		
		district_giga_frameworld_city
		district_giga_frameworld_nexus_advanced
		district_giga_frameworld_hive_advanced

		district_giga_voidframe_city_dm
		district_giga_voidframe_city_de
		district_giga_voidframe_city_pe
		district_giga_voidframe_city_se

		district_giga_voidframe_hive_dm
		district_giga_voidframe_hive_de
		district_giga_voidframe_hive_pe
		district_giga_voidframe_hive_se

		district_giga_voidframe_nexus_dm
		district_giga_voidframe_nexus_de
		district_giga_voidframe_nexus_pe
		district_giga_voidframe_nexus_se
	}
	
	resources = {
		category = planet_districts_cities
		cost = {
			minerals = @advanced_cost
		}
		upkeep = {
			energy = @advanced_upkeep
		}
	}
	
	triggered_planet_modifier = {
		potential = { always = yes }
		planet_housing_add = 10
		planet_max_buildings_add = 2
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_valid_civic = civic_agrarian_idyll
			}
		}
		modifier = {
			planet_housing_add = -2
		}
	}
	
	inline_script = {
		script = planet/maintenance/giga_clerk_job_swap
		jobs = 2
		district = @yes
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_active_tradition = tr_prosperity_public_works }
		}
		modifier = {
			planet_housing_add = 2
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_technology = tech_housing_1
			}
		}
		modifier = {
			planet_housing_add = 2
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_technology = tech_housing_2
				NOT = { has_valid_civic = civic_agrarian_idyll }
			}
		}
		modifier = {
			planet_housing_add = 2
		}
	}

}

inline_script = {
	script = "districts/voidframe/housing/city"

	tier = "dm"
	house = "7"
	time = "480"

	cost = "minerals = 1000 sr_dark_matter = 200"
	upkeep = "energy = 4"
	adv_upkeep = "energy = 5"
}

inline_script = {
	script = "districts/voidframe/housing/city"

	tier = "de"
	house = "9"
	time = "480"

	cost = "minerals = 1000 sr_dark_matter = 400 acot_sr_dark_energy = 400"
	upkeep = "energy = 6 sr_dark_matter = 2"
	adv_upkeep = "energy = 10"
}

inline_script = {
	script = "districts/voidframe/housing/city"

	tier = "pe"
	house = "11"
	time = "540"

	cost = "energy = 2000 minerals = 2000 aot_sr_runic_power = 800"
	upkeep = "energy = 10 aot_sr_runic_power = 10"
	adv_upkeep = "energy = 15"
}

inline_script = {
	script = "districts/voidframe/housing/city"

	tier = "se"
	house = "13"
	time = "630"

	cost = "energy = 4000 minerals = 4000 acot_sr_stellarite = 800"
	upkeep = "energy = 20 acot_sr_stellarite = 10"
	adv_upkeep = "energy = 20"
}

###############################################################################################################

district_giga_frameworld_hive = {
	base_buildtime = @city_time
	icon = district_hive
	is_capped_by_modifier = no
	exempt_from_ai_planet_specialization = yes
	
	show_on_uncolonized = {
		from = { is_hive_empire = yes }
		uses_district_set = giga_frameworld
		not = { has_planet_flag = frameworld_advanced_city }
		is_voidframe_upgraded = no
	}
	
	potential = {
		exists = owner
		owner = { is_hive_empire = yes }
		uses_district_set = giga_frameworld
		not = { has_planet_flag = frameworld_advanced_city }
		is_voidframe_upgraded = no
	}
	
	conversion_ratio = 1
	convert_to = {
		district_giga_frameworld_nexus
		district_giga_frameworld_city
		
		district_giga_frameworld_city_advanced
		district_giga_frameworld_nexus_advanced
		district_giga_frameworld_hive_advanced

		district_giga_voidframe_city_dm
		district_giga_voidframe_city_de
		district_giga_voidframe_city_pe
		district_giga_voidframe_city_se

		district_giga_voidframe_hive_dm
		district_giga_voidframe_hive_de
		district_giga_voidframe_hive_pe
		district_giga_voidframe_hive_se

		district_giga_voidframe_nexus_dm
		district_giga_voidframe_nexus_de
		district_giga_voidframe_nexus_pe
		district_giga_voidframe_nexus_se
	}
	
	resources = {
		category = planet_districts_cities
		cost = {
			minerals = @city_cost
		}
		upkeep = {
			energy = @city_upkeep
		}
	}
	
	planet_modifier = {
		planet_housing_add = 6
		job_maintenance_drone_add = 3
		planet_max_buildings_add = 1
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_technology = tech_housing_1 }
		}
		modifier = {
			planet_housing_add = 1
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_technology = tech_housing_2 }
		}
		modifier = {
			planet_housing_add = 1
			job_maintenance_drone_add = 1
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_active_tradition = tr_prosperity_extended_hives }
		}
		modifier = {
			planet_housing_add = 1
		}
	}
}

district_giga_frameworld_hive_advanced = {
	base_buildtime = @advanced_time
	icon = district_hive
	is_capped_by_modifier = no
	exempt_from_ai_planet_specialization = yes
	
	show_on_uncolonized = {
		from = { is_hive_empire = yes }
		uses_district_set = giga_frameworld
		has_planet_flag = frameworld_advanced_city
		is_voidframe_upgraded = no
	}
	
	potential = {
		exists = owner
		owner = { is_hive_empire = yes }
		uses_district_set = giga_frameworld
		has_planet_flag = frameworld_advanced_city
		is_voidframe_upgraded = no
	}
	
	conversion_ratio = 1
	convert_to = {
		district_giga_frameworld_nexus
		district_giga_frameworld_city
		
		district_giga_frameworld_city_advanced
		district_giga_frameworld_nexus_advanced
		district_giga_frameworld_hive

		district_giga_voidframe_city_dm
		district_giga_voidframe_city_de
		district_giga_voidframe_city_pe
		district_giga_voidframe_city_se

		district_giga_voidframe_hive_dm
		district_giga_voidframe_hive_de
		district_giga_voidframe_hive_pe
		district_giga_voidframe_hive_se

		district_giga_voidframe_nexus_dm
		district_giga_voidframe_nexus_de
		district_giga_voidframe_nexus_pe
		district_giga_voidframe_nexus_se
	}
	
	resources = {
		category = planet_districts_cities
		cost = {
			minerals = @advanced_cost
		}
		upkeep = {
			energy = @advanced_upkeep
		}
	}

	triggered_planet_modifier = {
		potential = { always = yes }
		planet_housing_add = 12
		job_maintenance_drone_add = 6
		planet_max_buildings_add = 2
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_technology = tech_housing_1 }
		}
		modifier = {
			planet_housing_add = 2
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_technology = tech_housing_2 }
		}
		modifier = {
			planet_housing_add = 2
			job_maintenance_drone_add = 2
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_active_tradition = tr_prosperity_extended_hives }
		}
		modifier = {
			planet_housing_add = 2
		}
	}
}

inline_script = {
	script = "districts/voidframe/housing/hive"

	tier = "dm"
	house = "7"
	time = "480"

	cost = "minerals = 1000 sr_dark_matter = 200"
	upkeep = "energy = 4"
	adv_upkeep = "energy = 5"
}

inline_script = {
	script = "districts/voidframe/housing/hive"

	tier = "de"
	house = "9"
	time = "480"

	cost = "minerals = 1000 sr_dark_matter = 400 acot_sr_dark_energy = 400"
	upkeep = "energy = 6 sr_dark_matter = 2"
	adv_upkeep = "energy = 10"
}

inline_script = {
	script = "districts/voidframe/housing/hive"

	tier = "pe"
	house = "11"
	time = "540"

	cost = "energy = 2000 minerals = 2000 aot_sr_runic_power = 800"
	upkeep = "energy = 10 aot_sr_runic_power = 10"
	adv_upkeep = "energy = 15"
}

inline_script = {
	script = "districts/voidframe/housing/hive"

	tier = "se"
	house = "13"
	time = "630"

	cost = "energy = 4000 minerals = 4000 acot_sr_stellarite = 800"
	upkeep = "energy = 20 acot_sr_stellarite = 10"
	adv_upkeep = "energy = 20"
}

###############################################################################################################

district_giga_frameworld_nexus = {
	base_buildtime = @city_time
	icon = district_nexus
	is_capped_by_modifier = no
	exempt_from_ai_planet_specialization = yes
	
	show_on_uncolonized = {
		from = { is_machine_empire = yes }
		uses_district_set = giga_frameworld
		not = { has_planet_flag = frameworld_advanced_city }
		is_voidframe_upgraded = no
	}
	
	potential = {
		exists = owner
		owner = { is_machine_empire = yes }
		uses_district_set = giga_frameworld
		not = { has_planet_flag = frameworld_advanced_city }
		is_voidframe_upgraded = no
	}

	allow = {
		#hidden_trigger = {
			exists = owner
			or = {
				owner = {
					is_ai = no
				}

				# we need more housing
				free_housing < 10

				# we might still need to unlock buildings
				num_districts = {
					type = district_giga_frameworld_nexus
					value < 10
				}

				# if we need more maintenance drones
				frameworld_needs_more_maintenance_drones = yes
			}
		#}
	}
	
	conversion_ratio = 1
	convert_to = {
		district_giga_frameworld_city
		district_giga_frameworld_hive
		
		district_giga_frameworld_city_advanced
		district_giga_frameworld_nexus_advanced
		district_giga_frameworld_hive_advanced

		district_giga_voidframe_city_dm
		district_giga_voidframe_city_de
		district_giga_voidframe_city_pe
		district_giga_voidframe_city_se

		district_giga_voidframe_hive_dm
		district_giga_voidframe_hive_de
		district_giga_voidframe_hive_pe
		district_giga_voidframe_hive_se

		district_giga_voidframe_nexus_dm
		district_giga_voidframe_nexus_de
		district_giga_voidframe_nexus_pe
		district_giga_voidframe_nexus_se
	}
	
	resources = {
		category = planet_districts_cities
		cost = {
			minerals = @city_cost
		}
		upkeep = {
			energy = @city_upkeep
		}
	}
	
	planet_modifier = {
		planet_housing_add = 5
		job_maintenance_drone_add = 3
		planet_max_buildings_add = 1
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_technology = tech_housing_1 }
		}
		modifier = {
			planet_housing_add = 1
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_technology = tech_housing_2 }
		}
		modifier = {
			planet_housing_add = 1
			job_maintenance_drone_add = 1
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_active_tradition = tr_prosperity_optimized_nexus }
		}
		modifier = {
			planet_housing_add = 1
		}
	}
}

district_giga_frameworld_nexus_advanced = {
	base_buildtime = @advanced_time
	icon = district_nexus
	is_capped_by_modifier = no
	exempt_from_ai_planet_specialization = yes
	
	show_on_uncolonized = {
		from = { is_machine_empire = yes }
		uses_district_set = giga_frameworld
		has_planet_flag = frameworld_advanced_city
		is_voidframe_upgraded = no
	}
	
	potential = {
		exists = owner
		owner = { is_machine_empire = yes }
		uses_district_set = giga_frameworld
		has_planet_flag = frameworld_advanced_city
		is_voidframe_upgraded = no
	}

	allow = {
		#hidden_trigger = {
			exists = owner
			or = {
				owner = {
					is_ai = no
				}

				# we need more housing
				free_housing < 10

				# we might still need to unlock buildings
				num_districts = {
					type = district_giga_frameworld_nexus_advanced
					value < 5
				}

				# if we need more maintenance drones
				frameworld_needs_more_maintenance_drones = yes
			}
		#}
	}
	
	conversion_ratio = 1
	convert_to = {
		district_giga_frameworld_city
		district_giga_frameworld_hive
		
		district_giga_frameworld_city_advanced
		district_giga_frameworld_nexus
		district_giga_frameworld_hive_advanced

		district_giga_voidframe_city_dm
		district_giga_voidframe_city_de
		district_giga_voidframe_city_pe
		district_giga_voidframe_city_se

		district_giga_voidframe_hive_dm
		district_giga_voidframe_hive_de
		district_giga_voidframe_hive_pe
		district_giga_voidframe_hive_se

		district_giga_voidframe_nexus_dm
		district_giga_voidframe_nexus_de
		district_giga_voidframe_nexus_pe
		district_giga_voidframe_nexus_se
	}
	
	resources = {
		category = planet_districts_cities
		cost = {
			minerals = @advanced_cost
		}
		upkeep = {
			energy = @advanced_upkeep
		}
	}

	triggered_planet_modifier = {
		potential = { always = yes }
		planet_housing_add = 10
		job_maintenance_drone_add = 6
		planet_max_buildings_add = 2
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_technology = tech_housing_1 }
		}
		modifier = {
			planet_housing_add = 2
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_technology = tech_housing_2 }
		}
		modifier = {
			planet_housing_add = 2
			job_maintenance_drone_add = 2
		}
	}
	

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_active_tradition = tr_virtuality_4 }
		}
		modifier = {
			job_maintenance_drone_add = 4
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_active_tradition = tr_prosperity_optimized_nexus }
		}
		modifier = {
			planet_housing_add = 2
		}
	}
}

inline_script = {
	script = "districts/voidframe/housing/nexus"

	tier = "dm"
	house = "7"
	time = "480"

	cost = "minerals = 1000 sr_dark_matter = 200"
	upkeep = "energy = 4"
	adv_upkeep = "energy = 5"
}

inline_script = {
	script = "districts/voidframe/housing/nexus"

	tier = "de"
	house = "9"
	time = "480"

	cost = "minerals = 1000 sr_dark_matter = 400 acot_sr_dark_energy = 400"
	upkeep = "energy = 6 sr_dark_matter = 2"
	adv_upkeep = "energy = 10"
}

inline_script = {
	script = "districts/voidframe/housing/nexus"

	tier = "pe"
	house = "11"
	time = "540"

	cost = "energy = 2000 minerals = 2000 aot_sr_runic_power = 800"
	upkeep = "energy = 10 aot_sr_runic_power = 10"
	adv_upkeep = "energy = 15"
}

inline_script = {
	script = "districts/voidframe/housing/nexus"

	tier = "se"
	house = "13"
	time = "630"

	cost = "energy = 4000 minerals = 4000 acot_sr_stellarite = 800"
	upkeep = "energy = 20 acot_sr_stellarite = 10"
	adv_upkeep = "energy = 20"
}

###############################################################################################################
###############################################################################################################
#          INDUSTRY
###############################################################################################################
###############################################################################################################

district_giga_frameworld_foundry = {
	base_buildtime = @city_time
	icon = district_arcology_arms_industry
	is_capped_by_modifier = no
	
	prerequisites = {
		tech_basic_industry
	}

	show_tech_unlock_if = {
		giga_has_frameworld_origin = yes
	}
	
	show_on_uncolonized = {
		exists = from
		uses_district_set = giga_frameworld
		not = { has_planet_flag = frameworld_advanced_industrial }
		is_voidframe_upgraded = no # shows maximum upgrade level
	}
	
	potential = {
		exists = owner
		uses_district_set = giga_frameworld
		not = { has_planet_flag = frameworld_advanced_industrial }
		OR = { # downgrade ability
			is_voidframe_upgraded = no
			AND = {
				NOR = {
					has_building = building_acot_dm_alloy_forge
					has_building = building_acot_ae_alloy_forge
					has_building = building_phanon_alloy_forge
					has_building = building_stellarite_alloy_forge
				}
				is_voidframe_upgraded = yes
			}
		}
	}
	
	conversion_ratio = 1
	convert_to = {
		district_giga_frameworld_foundry_advanced

		district_giga_voidframe_foundry_dm
		district_giga_voidframe_foundry_de
		district_giga_voidframe_foundry_se
		district_giga_voidframe_foundry_pe
	}
	
	resources = {
		category = planet_districts_industrial
		cost = {
			minerals = @city_cost
		}
		upkeep = {
			energy = @city_upkeep
		}
		
		upkeep = {
			trigger = {
				exists = owner
				owner = {
					has_edict = industrial_maintenance
				}
			}
			energy = 2
		}

		# nanite upgrade
		upkeep = {
			trigger = {
				frameworld_has_active_nanite_upgrade = yes
			}
			energy = 10
			nanites = 1
		}
		produces = {
			trigger = {
				frameworld_has_active_nanite_upgrade = yes
			}
			alloys = 5
		}
	}
	
	planet_modifier = {
		planet_housing_add = 2
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_crafter_empire = yes }
		}
		modifier = {
			planet_max_buildings_add = 0.34
		}
	}
	
	inline_script = {
		script = planet/alloys/giga_foundry_job_swap
		jobs = 2
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_machine_empire = yes
				has_edict = industrial_maintenance
			}
		}
		modifier = {
			job_maintenance_drone_add = 1
		}
	}
	
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_machine_empire = yes
				has_edict = industrial_maintenance
			}
		}
		text = job_maintenance_drone_effect_desc
	}
	
	ai_resource_production = {
		alloys = 2
		trigger = {
			always = yes
		}
	}

	ai_resource_production = {
		ai_unobtainium = 1000
		trigger = {
			frameworld_want_industrial = yes
		}
	}
}

district_giga_frameworld_foundry_advanced = {
	base_buildtime = @advanced_time
	icon = district_arcology_arms_industry
	is_capped_by_modifier = no
	
	show_on_uncolonized = {
		exists = from
		uses_district_set = giga_frameworld
		has_planet_flag = frameworld_advanced_industrial
		is_voidframe_upgraded = no # shows maximum upgrade level
	}
	
	potential = {
		exists = owner
		uses_district_set = giga_frameworld
		has_planet_flag = frameworld_advanced_industrial
		OR = { # downgrade ability
			is_voidframe_upgraded = no
			AND = {
				NOR = {
					has_building = building_acot_dm_alloy_forge
					has_building = building_acot_ae_alloy_forge
					has_building = building_phanon_alloy_forge
					has_building = building_stellarite_alloy_forge
				}
				is_voidframe_upgraded = yes
			}
		}
	}
	
	conversion_ratio = 1
	convert_to = {
		district_giga_frameworld_foundry

		district_giga_voidframe_foundry_dm
		district_giga_voidframe_foundry_de
		district_giga_voidframe_foundry_se
		district_giga_voidframe_foundry_pe
	}
	
	resources = {
		category = planet_districts_industrial
		cost = {
			minerals = @advanced_cost
			volatile_motes = @advanced_rare_cost
		}
		upkeep = {
			energy = @advanced_upkeep
			volatile_motes = @advanced_rare_upkeep
		}
		
		upkeep = {
			trigger = {
				exists = owner
				owner = {
					has_edict = industrial_maintenance
				}
			}
			energy = 2
		}

		# nanite upgrade
		upkeep = {
			trigger = {
				frameworld_has_active_nanite_upgrade = yes
			}
			energy = 20
			nanites = 2
		}
		produces = {
			trigger = {
				frameworld_has_active_nanite_upgrade = yes
			}
			alloys = 10
		}
	}
	
	planet_modifier = {
		planet_housing_add = 2
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_crafter_empire = yes }
		}
		modifier = {
			planet_max_buildings_add = 0.34
		}
	}
	
	inline_script = {
		script = planet/alloys/giga_foundry_job_swap
		jobs = 4
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_machine_empire = yes
				has_edict = industrial_maintenance
			}
		}
		modifier = {
			job_maintenance_drone_add = 1
		}
	}
	
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_machine_empire = yes
				has_edict = industrial_maintenance
			}
		}
		text = job_maintenance_drone_effect_desc
	}
	
	ai_resource_production = {
		alloys = 4
		trigger = {
			always = yes
		}
	}

	ai_resource_production = {
		ai_unobtainium = 1000
		trigger = {
			frameworld_want_industrial = yes
		}
	}
}

inline_script = {
	script = "districts/voidframe/advanced/foundry"

	tier = "dm"
	reqtech = "tech_acot_dm_alloy_foundry"
	ignore_aot = "yes"

	pass_condition = "
		has_building = building_acot_dm_alloy_forge
	"
	fail_condition = "
		has_building = building_acot_ae_alloy_forge
		has_building = building_phanon_alloy_forge
		has_building = building_stellarite_alloy_forge
	"

	time = "480"

	acot_normjob = "job_acot_alloyman_add = 2"
	acot_gestjob = "job_acot_alloydrone_add = 2"

	aot_normjob = ""
	aot_gestjob = ""

	nanite_energy_cost = "20"
	nanite_nanite_cost = "5"
	nanite_alloy_prod = "10"

	cost = "minerals = 1000 sr_dark_matter = 200"
	upkeep = "energy = 4"
	adv_upkeep = "energy = 5"
}

inline_script = {
	script = "districts/voidframe/advanced/foundry"

	tier = "de"
	reqtech = "tech_acot_ae_alloy_foundry"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_acot_ae_alloy_forge
	"
	fail_condition = "
		has_building = building_phanon_alloy_forge
		has_building = building_stellarite_alloy_forge
	"

	time = "480"

	acot_normjob = "job_acot_alloyman_add = 4"
	acot_gestjob = "job_acot_alloydrone_add = 4"

	aot_normjob = "job_ae_alloyman_add = 2"
	aot_gestjob = "job_ae_alloydrone_add = 2"

	nanite_energy_cost = "30"
	nanite_nanite_cost = "5"
	nanite_alloy_prod = "20"

	cost = "minerals = 1000 sr_dark_matter = 400 acot_sr_dark_energy = 400"
	upkeep = "energy = 6 sr_dark_matter = 2"
	adv_upkeep = "energy = 10"
}

inline_script = {
	script = "districts/voidframe/advanced/foundry"

	tier = "pe"
	reqtech = "tech_phanon_alloy_foundry"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_phanon_alloy_forge
	"
	fail_condition = "
		has_building = building_stellarite_alloy_forge
	"

	time = "540"

	acot_normjob = ""
	acot_gestjob = ""

	aot_normjob = "job_phanon_alloyman_add = 2"
	aot_gestjob = "job_phanon_alloydrone_add = 2"

	nanite_energy_cost = "40"
	nanite_nanite_cost = "5"
	nanite_alloy_prod = "40"

	cost = "energy = 2000 minerals = 2000 aot_sr_runic_power = 800"
	upkeep = "energy = 10 aot_sr_runic_power = 10"
	adv_upkeep = "energy = 20"
}

inline_script = {
	script = "districts/voidframe/advanced/foundry"

	tier = "se"
	reqtech = "tech_stellarite_alloy_foundry"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_stellarite_alloy_forge
	"
	fail_condition = ""

	time = "630"

	acot_normjob = ""
	acot_gestjob = ""

	aot_normjob = "job_stellarite_alloyman_add = 2"
	aot_gestjob = "job_stellarite_alloydrone_add = 2"

	cost = "energy = 4000 minerals = 4000 acot_sr_stellarite = 800"

	nanite_energy_cost = "50"
	nanite_nanite_cost = "5"
	nanite_alloy_prod = "80"

	upkeep = "energy = 20 acot_sr_stellarite = 10"
	adv_upkeep = "energy = 30"
}

###############################################################################################################

district_giga_frameworld_factory = {
	base_buildtime = @city_time
	icon = district_arcology_civilian_industry
	is_capped_by_modifier = no

	prerequisites = {
		tech_basic_industry
	}

	show_tech_unlock_if = {
		giga_has_frameworld_origin = yes
	}

	show_on_uncolonized = {
		exists = from
		uses_district_set = giga_frameworld
		not = { has_planet_flag = frameworld_advanced_industrial }
		from = {
			or = {
				is_gestalt = no
				has_valid_civic = civic_machine_servitor
				country_uses_consumer_goods = yes
			}
		}
		is_voidframe_upgraded = no # shows maximum upgrade level
	}

	potential = {
		exists = owner
		uses_district_set = giga_frameworld
		not = { has_planet_flag = frameworld_advanced_industrial }
		owner = {
			or = {
				is_gestalt = no
				has_valid_civic = civic_machine_servitor
				country_uses_consumer_goods = yes
			}
		}
		OR = { # downgrade ability
			is_voidframe_upgraded = no
			AND = {
				NOR = {
					has_building = building_acot_dm_factory
					has_building = building_acot_ae_factory
					has_building = building_phanon_civilian_factory
					has_building = building_stellarite_civilian_factory
				}
				is_voidframe_upgraded = yes
			}
		}
	}

	conversion_ratio = 1
	convert_to = {
		district_giga_frameworld_factory
		district_giga_frameworld_factory_advanced

		district_giga_voidframe_factory_dm
		district_giga_voidframe_factory_de
		district_giga_voidframe_factory_pe
		district_giga_voidframe_factory_se
	}

	resources = {
		category = planet_districts_industrial
		cost = {
			minerals = @city_cost
		}
		upkeep = {
			energy = @city_upkeep
		}

		upkeep = {
			trigger = {
				exists = owner
				owner = {
					has_edict = industrial_maintenance
				}
			}
			energy = 2
		}
	}

	planet_modifier = {
		planet_housing_add = 2
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_crafter_empire = yes }
		}
		modifier = {
			planet_max_buildings_add = 0.34
		}
	}

	inline_script = {
		script = planet/consumer_goods/giga_artisan_job_swap
		jobs = 2
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_machine_empire = yes
				has_edict = industrial_maintenance
			}
		}
		modifier = {
			job_maintenance_drone_add = 1
		}
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_machine_empire = yes
				has_edict = industrial_maintenance
			}
		}
		text = job_maintenance_drone_effect_desc
	}

	ai_resource_production = {
		consumer_goods = 5
		trigger = {
			always = yes
		}
	}

	#ai_resource_production = {
	#	ai_unobtainium = 1000
	#	trigger = {
	#		frameworld_want_industrial = yes
	#	}
	#}
}

district_giga_frameworld_factory_advanced = {
	base_buildtime = @advanced_time
	icon = district_arcology_civilian_industry
	is_capped_by_modifier = no

	show_on_uncolonized = {
		exists = from
		uses_district_set = giga_frameworld
		has_planet_flag = frameworld_advanced_industrial
		from = {
			or = {
				is_gestalt = no
				has_valid_civic = civic_machine_servitor
				country_uses_consumer_goods = yes
			}
		}
		is_voidframe_upgraded = no # shows maximum upgrade level
	}

	potential = {
		exists = owner
		uses_district_set = giga_frameworld
		has_planet_flag = frameworld_advanced_industrial
		owner = {
			or = {
				is_gestalt = no
				has_valid_civic = civic_machine_servitor
				country_uses_consumer_goods = yes
			}
		}
		OR = { # downgrade ability
			is_voidframe_upgraded = no
			AND = {
				NOR = {
					has_building = building_acot_dm_factory
					has_building = building_acot_ae_factory
					has_building = building_phanon_civilian_factory
					has_building = building_stellarite_civilian_factory
				}
				is_voidframe_upgraded = yes
			}
		}
	}

	conversion_ratio = 1
	convert_to = {
		district_giga_frameworld_factory

		district_giga_voidframe_factory_dm
		district_giga_voidframe_factory_de
		district_giga_voidframe_factory_pe
		district_giga_voidframe_factory_se
	}

	resources = {
		category = planet_districts_industrial
		cost = {
			minerals = @advanced_cost
			rare_crystals = @advanced_rare_cost
		}
		upkeep = {
			energy = @advanced_upkeep
			rare_crystals = @advanced_rare_upkeep
		}

		upkeep = {
			trigger = {
				exists = owner
				owner = {
					has_edict = industrial_maintenance
				}
			}
			energy = 2
		}
	}

	planet_modifier = {
		planet_housing_add = 2
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_crafter_empire = yes }
		}
		modifier = {
			planet_max_buildings_add = 0.34
		}
	}

	inline_script = {
		script = planet/consumer_goods/giga_artisan_job_swap
		jobs = 4
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_machine_empire = yes
				has_edict = industrial_maintenance
			}
		}
		modifier = {
			job_maintenance_drone_add = 1
		}
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_machine_empire = yes
				has_edict = industrial_maintenance
			}
		}
		text = job_maintenance_drone_effect_desc
	}

	ai_resource_production = {
		consumer_goods = 10
		trigger = {
			always = yes
		}
	}

	#ai_resource_production = {
	#	ai_unobtainium = 1000
	#	trigger = {
	#		frameworld_want_industrial = yes
	#	}
	#}
}

inline_script = {
	script = "districts/voidframe/advanced/factory"

	tier = "dm"
	reqtech = "tech_acot_dm_factory"
	ignore_aot = "yes"

	pass_condition = "
		has_building = building_acot_dm_factory
	"
	fail_condition = "
		has_building = building_acot_ae_factory
		has_building = building_phanon_civilian_factory
		has_building = building_stellarite_civilian_factory
	"

	time = "480"

	acot_normjob = "job_acot_artisan_add = 2"
	acot_gestjob = "job_acot_artisan_add = 2"

	aot_normjob = ""
	aot_gestjob = ""

	cost = "minerals = 1000 sr_dark_matter = 200"
	upkeep = "energy = 4"
	adv_upkeep = "energy = 5"
}

inline_script = {
	script = "districts/voidframe/advanced/factory"

	tier = "de"
	reqtech = "tech_acot_ae_factory"
	ignore_aot = "yes"

	pass_condition = "
		has_building = building_acot_ae_factory
	"
	fail_condition = "
		has_building = building_phanon_civilian_factory
		has_building = building_stellarite_civilian_factory
	"

	time = "480"

	acot_normjob = "job_acot_artisan_add = 4"
	acot_gestjob = "job_acot_artisan_add = 4"

	aot_normjob = ""
	aot_gestjob = ""

	cost = "minerals = 1000 sr_dark_matter = 400 acot_sr_dark_energy = 400"
	upkeep = "energy = 6 sr_dark_matter = 2"
	adv_upkeep = "energy = 10"
}

inline_script = {
	script = "districts/voidframe/advanced/factory"

	tier = "pe"
	reqtech = "tech_phanon_civilian_factory"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_phanon_civilian_factory
	"
	fail_condition = "
		has_building = building_stellarite_civilian_factory
	"

	time = "540"

	acot_normjob = ""
	acot_gestjob = ""

	aot_normjob = "job_phanon_artisan_add = 2"
	aot_gestjob = "job_phanon_artisan_drone_add = 2"

	cost = "energy = 2000 minerals = 2000 aot_sr_runic_power = 800"
	upkeep = "energy = 10 aot_sr_runic_power = 10"
	adv_upkeep = "energy = 15"
}

inline_script = {
	script = "districts/voidframe/advanced/factory"

	tier = "se"
	reqtech = "tech_stellarite_civilian_factory"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_stellarite_civilian_factory
	"
	fail_condition = ""

	time = "630"

	acot_normjob = ""
	acot_gestjob = ""

	aot_normjob = "job_stellarite_artisan_add = 2"
	aot_gestjob = "job_stellarite_artisan_drone_add = 2"

	cost = "energy = 4000 minerals = 4000 acot_sr_stellarite = 800"

	upkeep = "energy = 20 acot_sr_stellarite = 10"
	adv_upkeep = "energy = 20"
}

###############################################################################################################
###############################################################################################################
#          RAW MATERIALS
###############################################################################################################
###############################################################################################################

district_giga_frameworld_generator = {
	base_buildtime = @base_time
	icon = district_generator # icon revert to non hab version
	is_capped_by_modifier = no
	
	show_on_uncolonized = {
		uses_district_set = giga_frameworld
		not = { has_planet_flag = frameworld_penrose }
		is_voidframe_upgraded = no # shows maximum upgrade level
	}
	
	potential = {
		uses_district_set = giga_frameworld
		not = { has_planet_flag = frameworld_penrose }
		OR = { # downgrade ability
			is_voidframe_upgraded = no
			AND = {
				NOR = {
					has_building = building_acot_dm_power_hub
					has_building = building_acot_ae_power_hub
					has_building = building_phanon_power_hub
					has_building = building_stellarite_power_hub
				}
				is_voidframe_upgraded = yes
			}
		}
	}

	prerequisites = {
		tech_power_plant_1
	}

	show_tech_unlock_if = {
		giga_has_frameworld_origin = yes
	}
	
	conversion_ratio = 1
	convert_to = {
		district_giga_frameworld_penrose

		district_giga_voidframe_generator_dm
		district_giga_voidframe_generator_de
		district_giga_voidframe_generator_pe
		district_giga_voidframe_generator_se

		district_giga_voidframe_penrose_dm
		district_giga_voidframe_penrose_de
		district_giga_voidframe_penrose_pe
		district_giga_voidframe_penrose_se
	}
	
	resources = {
		category = planet_districts
		cost = {
			minerals = @base_cost
		}
		upkeep = {
			energy = @base_upkeep
		}
	}
	
	planet_modifier = {
		planet_housing_add = 2
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_valid_civic = civic_agrarian_idyll
			}
		}
		modifier = {
			planet_housing_add = 1
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_machine_empire = yes
			}
		}
		modifier = {
			planet_housing_add = 1
		}
	}
	
	inline_script = {
		script = planet/energy/giga_technician_job_swap
		jobs = 2
		district = @yes
		extra_hive_jobs = @yes
	}
	
	ai_resource_production = {
		energy = 1
		trigger = {
			always = yes
		}
	}
}

inline_script = {
	script = "districts/voidframe/basic/energy"

	tier = "dm"
	reqtech = "tech_acot_dm_power_hub"
	ignore_aot = "yes"

	pass_condition = "
		has_building = building_acot_dm_power_hub
	"
	fail_condition = "
		has_building = building_acot_ae_power_hub
		has_building = building_phanon_power_hub
		has_building = building_stellarite_power_hub
	"

	house = "3"
	time = "240"

	acot_normjob = "job_acot_energyman_add = 2"
	acot_gestjob = "job_acot_energydrone_add = 2"

	aot_normjob = ""
	aot_gestjob = ""

	cost = "minerals = 500 acot_sr_dark_energy = 200"
	upkeep = "energy = 2"
}

inline_script = {
	script = "districts/voidframe/basic/energy"

	tier = "de"
	reqtech = "tech_acot_ae_power_hub"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_acot_ae_power_hub
	"
	fail_condition = "
		has_building = building_phanon_power_hub
		has_building = building_stellarite_power_hub
	"

	house = "3"
	time = "240"

	acot_normjob = "job_acot_energyman_add = 4"
	acot_gestjob = "job_acot_energydrone_add = 4"

	aot_normjob = "job_ae_energyman_add = 2"
	aot_gestjob = "job_ae_energydrone_add = 2"

	cost = "minerals = 500 sr_dark_matter = 200 acot_sr_dark_energy = 200"
	upkeep = "energy = 4 acot_sr_dark_energy = 2"
}

inline_script = {
	script = "districts/voidframe/basic/energy"

	tier = "pe"
	reqtech = "tech_phanon_power_hub"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_phanon_power_hub
	"
	fail_condition = "
		has_building = building_stellarite_power_hub
	"

	house = "3"
	time = "360"

	acot_normjob = ""
	acot_gestjob = ""

	aot_normjob = "job_phanon_energyman_add = 2"
	aot_gestjob = "job_phanon_energydrone_add = 2"

	cost = "minerals = 1000 aot_sr_runic_power = 400"
	upkeep = "energy = 6 aot_sr_runic_power = 4"
}

inline_script = {
	script = "districts/voidframe/basic/energy"

	tier = "se"
	reqtech = "tech_stellarite_power_hub"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_stellarite_power_hub
	"
	fail_condition = ""

	house = "3"
	time = "480"

	acot_normjob = ""
	acot_gestjob = ""

	aot_normjob = "job_stellarite_energyman_add = 2"
	aot_gestjob = "job_stellarite_energydrone_add = 2"

	cost = "minerals = 2000 acot_sr_stellarite = 400"
	upkeep = "energy = 8 acot_sr_stellarite = 6"
}

###############################################################################################################

district_giga_frameworld_penrose = {
	base_buildtime = @mega_time
	#icon = district_hab_energy
	is_capped_by_modifier = no
	
	show_on_uncolonized = {
		uses_district_set = giga_frameworld
		has_planet_flag = frameworld_penrose
		is_voidframe_upgraded = no # shows maximum upgrade level
	}
	
	potential = {
		uses_district_set = giga_frameworld
		has_planet_flag = frameworld_penrose
		OR = { # downgrade ability
			is_voidframe_upgraded = no
			AND = {
				NOR = {
					has_building = building_acot_dm_power_hub
					has_building = building_acot_ae_power_hub
					has_building = building_phanon_power_hub
					has_building = building_stellarite_power_hub
				}
				is_voidframe_upgraded = yes
			}
		}
	}
	
	conversion_ratio = 1
	convert_to = {
		district_giga_frameworld_generator

		district_giga_voidframe_generator_dm
		district_giga_voidframe_generator_de
		district_giga_voidframe_generator_pe
		district_giga_voidframe_generator_se

		district_giga_voidframe_penrose_dm
		district_giga_voidframe_penrose_de
		district_giga_voidframe_penrose_pe
		district_giga_voidframe_penrose_se
	}
	
	resources = {
		category = planet_districts
		cost = {
			minerals = @mega_cost
			alloys = @mega_alloy_cost
		}
		upkeep = {
			energy = @mega_upkeep
			alloys = @mega_alloy_upkeep
		}
	}
	
	planet_modifier = {
		planet_housing_add = 2
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_valid_civic = civic_agrarian_idyll
			}
		}
		modifier = {
			planet_housing_add = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_machine_empire = yes
			}
		}
		modifier = {
			planet_housing_add = 1
		}
	}
	
	inline_script = {
		script = planet/energy/giga_technician_job_swap
		jobs = 8
		district = @yes
		extra_hive_jobs = @yes
	}
	
	ai_resource_production = {
		energy = 100
		trigger = {
			always = yes
		}
	}
}

inline_script = {
	script = "districts/voidframe/basic/penrose"

	tier = "dm"
	reqtech = "tech_acot_dm_power_hub"
	ignore_aot = "yes"

	pass_condition = "
		has_building = building_acot_dm_power_hub
	"
	fail_condition = "
		has_building = building_acot_ae_power_hub
		has_building = building_phanon_power_hub
		has_building = building_stellarite_power_hub
	"

	house = "3"
	time = "720"

	acot_normjob = "job_acot_energyman_add = 6"
	acot_gestjob = "job_acot_energydrone_add = 6"

	aot_normjob = ""
	aot_gestjob = ""

	cost = "minerals = 1000 alloys = 250 acot_sr_dark_energy = 400"
	upkeep = "energy = 4"
}

inline_script = {
	script = "districts/voidframe/basic/penrose"

	tier = "de"
	reqtech = "tech_acot_ae_power_hub"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_acot_ae_power_hub
	"
	fail_condition = "
		has_building = building_phanon_power_hub
		has_building = building_stellarite_power_hub
	"

	house = "3"
	time = "720"

	acot_normjob = "job_acot_energyman_add = 10"
	acot_gestjob = "job_acot_energydrone_add = 10"

	aot_normjob = "job_ae_energyman_add = 6"
	aot_gestjob = "job_ae_energydrone_add = 6"

	cost = "minerals = 2000 alloys = 500 sr_dark_matter = 800 acot_sr_dark_energy = 800"
	upkeep = "energy = 6 acot_sr_dark_energy = 2"
}

inline_script = {
	script = "districts/voidframe/basic/penrose"

	tier = "pe"
	reqtech = "tech_phanon_power_hub"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_phanon_power_hub
	"
	fail_condition = "
		has_building = building_stellarite_power_hub
	"

	house = "3"
	time = "840"

	acot_normjob = ""
	acot_gestjob = ""

	aot_normjob = "job_phanon_energyman_add = 6"
	aot_gestjob = "job_phanon_energydrone_add = 6"

	cost = "minerals = 2000 alloys = 1000 aot_sr_runic_power = 1400"
	upkeep = "energy = 10 aot_sr_runic_power = 10"
}

inline_script = {
	script = "districts/voidframe/basic/penrose"

	tier = "se"
	reqtech = "tech_stellarite_power_hub"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_stellarite_power_hub
	"
	fail_condition = ""

	house = "3"
	time = "960"

	acot_normjob = ""
	acot_gestjob = ""

	aot_normjob = "job_stellarite_energyman_add = 6"
	aot_gestjob = "job_stellarite_energydrone_add = 6"

	cost = "minerals = 4000 alloys = 2000 acot_sr_stellarite = 1400"
	upkeep = "energy = 20 acot_sr_stellarite = 10"
}

###############################################################################################################

district_giga_frameworld_mining = {
	base_buildtime = @base_time
	icon = district_mining # icon revert to non hab version
	
	show_on_uncolonized = {
		uses_district_set = giga_frameworld
		not = { has_planet_flag = frameworld_decompressor }
		is_voidframe_upgraded = no # shows maximum upgrade level
	}
	
	potential = {
		uses_district_set = giga_frameworld
		not = { has_planet_flag = frameworld_decompressor }
		OR = { # downgrade ability
			is_voidframe_upgraded = no
			AND = {
				NOR = {
					has_building = building_acot_dm_mineral_processing_plant
					has_building = building_acot_ae_mineral_processing_plant
					has_building = building_phanon_mineral_processing_plant
					has_building = building_stellarite_mineral_processing_plant
				}
				is_voidframe_upgraded = yes
			}
		}
	}

	prerequisites = {
		tech_mechanized_mining
	}

	show_tech_unlock_if = {
		giga_has_frameworld_origin = yes
	}
	
	conversion_ratio = 1
	convert_to = {
		district_giga_frameworld_mining
		district_giga_frameworld_decompressor

		district_giga_voidframe_mining_dm
		district_giga_voidframe_mining_de
		district_giga_voidframe_mining_pe
		district_giga_voidframe_mining_se

		district_giga_voidframe_decompressor_dm
		district_giga_voidframe_decompressor_de
		district_giga_voidframe_decompressor_pe
		district_giga_voidframe_decompressor_se
	}
	
	resources = {
		category = planet_districts
		cost = {
			minerals = @base_cost
		}
		upkeep = {
			energy = @base_upkeep
		}
	}
	
	planet_modifier = {
		planet_housing_add = 2
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_valid_civic = civic_agrarian_idyll
			}
		}
		modifier = {
			planet_housing_add = 1
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_machine_empire = yes
			}
		}
		modifier = {
			planet_housing_add = 1
		}
	}

	inline_script = {
		script = planet/minerals/giga_miner_job_swap
		jobs = 2
		district = @yes
		extra_hive_jobs = @yes
	}
	
	ai_resource_production = {
		minerals = 1
		trigger = {
			always = yes
		}
	}
}

inline_script = {
	script = "districts/voidframe/basic/minerals"

	tier = "dm"
	reqtech = "tech_acot_dm_mineral_processing_plant"
	ignore_aot = "yes"

	pass_condition = "
		has_building = building_acot_dm_mineral_processing_plant
	"
	fail_condition = "
		has_building = building_acot_ae_mineral_processing_plant
		has_building = building_phanon_mineral_processing_plant
		has_building = building_stellarite_mineral_processing_plant
	"

	house = "3"
	time = "240"

	acot_normjob = "job_acot_mineralman_add = 2"
	acot_gestjob = "job_acot_mineraldrone_add = 2"

	aot_normjob = ""
	aot_gestjob = ""

	cost = "minerals = 500 sr_dark_matter = 200"
	upkeep = "energy = 2"
}

inline_script = {
	script = "districts/voidframe/basic/minerals"

	tier = "de"
	reqtech = "tech_acot_ae_mineral_processing_plant"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_acot_ae_mineral_processing_plant
	"
	fail_condition = "
		has_building = building_phanon_mineral_processing_plant
		has_building = building_stellarite_mineral_processing_plant
	"

	house = "3"
	time = "240"

	acot_normjob = "job_acot_mineralman_add = 4"
	acot_gestjob = "job_acot_mineraldrone_add = 4"

	aot_normjob = "job_ae_mineralman_add = 2"
	aot_gestjob = "job_ae_mineraldrone_add = 2"

	cost = "minerals = 500 sr_dark_matter = 200 acot_sr_dark_energy = 200"
	upkeep = "energy = 4 sr_dark_matter = 2"
}

inline_script = {
	script = "districts/voidframe/basic/minerals"

	tier = "pe"
	reqtech = "tech_phanon_mineral_processing_plant"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_phanon_mineral_processing_plant
	"
	fail_condition = "
		has_building = building_stellarite_mineral_processing_plant
	"

	house = "3"
	time = "360"

	acot_normjob = ""
	acot_gestjob = ""

	aot_normjob = "job_phanon_mineralman_add = 2"
	aot_gestjob = "job_phanon_mineraldrone_add = 2"

	cost = "minerals = 1000 aot_sr_runic_power = 400"
	upkeep = "energy = 6 aot_sr_runic_power = 4"
}

inline_script = {
	script = "districts/voidframe/basic/minerals"

	tier = "se"
	reqtech = "tech_stellarite_mineral_processing_plant"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_stellarite_mineral_processing_plant
	"
	fail_condition = ""

	house = "3"
	time = "480"

	acot_normjob = ""
	acot_gestjob = ""

	aot_normjob = "job_stellarite_mineralman_add = 2"
	aot_gestjob = "job_stellarite_mineraldrone_add = 2"

	cost = "minerals = 2000 acot_sr_stellarite = 400"
	upkeep = "energy = 8 acot_sr_stellarite = 6"
}

###############################################################################################################

district_giga_frameworld_decompressor = {
	base_buildtime = @mega_time
	#icon = district_hab_mining
	is_capped_by_modifier = no
	
	show_on_uncolonized = {
		uses_district_set = giga_frameworld
		has_planet_flag = frameworld_decompressor
		is_voidframe_upgraded = no # shows maximum upgrade level
	}
	
	potential = {
		uses_district_set = giga_frameworld
		has_planet_flag = frameworld_decompressor
		OR = { # downgrade ability
			is_voidframe_upgraded = no
			AND = {
				NOR = {
					has_building = building_acot_dm_mineral_processing_plant
					has_building = building_acot_ae_mineral_processing_plant
					has_building = building_phanon_mineral_processing_plant
					has_building = building_stellarite_mineral_processing_plant
				}
				is_voidframe_upgraded = yes
			}
		}
	}
	
	conversion_ratio = 1
	convert_to = {
		district_giga_frameworld_mining
		district_giga_frameworld_decompressor

		district_giga_voidframe_mining_dm
		district_giga_voidframe_mining_de
		district_giga_voidframe_mining_pe
		district_giga_voidframe_mining_se

		district_giga_voidframe_decompressor_dm
		district_giga_voidframe_decompressor_de
		district_giga_voidframe_decompressor_pe
		district_giga_voidframe_decompressor_se
	}
	
	resources = {
		category = planet_districts
		cost = {
			minerals = @mega_cost
			alloys = @mega_alloy_cost
		}
		upkeep = {
			energy = @mega_upkeep
			alloys = @mega_alloy_upkeep
		}
	}
	
	planet_modifier = {
		planet_housing_add = 2
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_valid_civic = civic_agrarian_idyll
			}
		}
		modifier = {
			planet_housing_add = 1
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_machine_empire = yes
			}
		}
		modifier = {
			planet_housing_add = 1
		}
	}

	inline_script = {
		script = planet/minerals/giga_miner_job_swap
		jobs = 8
		district = @yes
		extra_hive_jobs = @yes
	}
	
	ai_resource_production = {
		minerals = 100
		trigger = {
			always = yes
		}
	}

	ai_resource_production = {
		ai_unobtainium = 1000
		trigger = {
			frameworld_want_decompressor_district = yes
		}
	}
}

inline_script = {
	script = "districts/voidframe/basic/decompressor"

	tier = "dm"
	reqtech = "tech_acot_dm_mineral_processing_plant"
	ignore_aot = "yes"

	pass_condition = "
		has_building = building_acot_dm_mineral_processing_plant
	"
	fail_condition = "
		has_building = building_acot_ae_mineral_processing_plant
		has_building = building_phanon_mineral_processing_plant
		has_building = building_stellarite_mineral_processing_plant
	"

	house = "3"
	time = "720"

	acot_normjob = "job_acot_mineralman_add = 6"
	acot_gestjob = "job_acot_mineraldrone_add = 6"

	aot_normjob = ""
	aot_gestjob = ""

	cost = "minerals = 1000 alloys = 250 sr_dark_matter = 400"
	upkeep = "energy = 4"
}

inline_script = {
	script = "districts/voidframe/basic/decompressor"

	tier = "de"
	reqtech = "tech_acot_ae_mineral_processing_plant"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_acot_ae_mineral_processing_plant
	"
	fail_condition = "
		has_building = building_phanon_mineral_processing_plant
		has_building = building_stellarite_mineral_processing_plant
	"

	house = "3"
	time = "720"

	acot_normjob = "job_acot_mineralman_add = 10"
	acot_gestjob = "job_acot_mineraldrone_add = 10"

	aot_normjob = "job_ae_mineralman_add = 6"
	aot_gestjob = "job_ae_mineraldrone_add = 6"

	cost = "minerals = 2000 alloys = 500 sr_dark_matter = 800 acot_sr_dark_energy = 800"
	upkeep = "energy = 6 sr_dark_matter = 2"
}

inline_script = {
	script = "districts/voidframe/basic/decompressor"

	tier = "pe"
	reqtech = "tech_phanon_mineral_processing_plant"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_phanon_mineral_processing_plant
	"
	fail_condition = "
		has_building = building_stellarite_mineral_processing_plant
	"

	house = "3"
	time = "840"

	acot_normjob = ""
	acot_gestjob = ""

	aot_normjob = "job_phanon_mineralman_add = 6"
	aot_gestjob = "job_phanon_mineraldrone_add = 6"

	cost = "minerals = 2000 alloys = 1000 aot_sr_runic_power = 1400"
	upkeep = "energy = 10 aot_sr_runic_power = 10"
}

inline_script = {
	script = "districts/voidframe/basic/decompressor"

	tier = "se"
	reqtech = "tech_stellarite_mineral_processing_plant"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_stellarite_mineral_processing_plant
	"
	fail_condition = ""

	house = "3"
	time = "960"

	acot_normjob = ""
	acot_gestjob = ""

	aot_normjob = "job_stellarite_mineralman_add = 6"
	aot_gestjob = "job_stellarite_mineraldrone_add = 6"

	cost = "minerals = 4000 alloys = 2000 acot_sr_stellarite = 1400"
	upkeep = "energy = 20 acot_sr_stellarite = 10"
}

###############################################################################################################

district_giga_frameworld_farming = {
	base_buildtime = @base_time
	icon = district_farming
	is_capped_by_modifier = no
	
	show_on_uncolonized = {
		uses_district_set = giga_frameworld
		is_voidframe_upgraded = no # shows maximum upgrade level
	}
	
	potential = {
		uses_district_set = giga_frameworld
		OR = { # downgrade ability
			is_voidframe_upgraded = no
			AND = {
				NOR = {
					has_building = building_acot_dm_food_processing_complex
					has_building = building_acot_ae_food_processing_complex
					has_building = building_phanon_food_processing_complex
					has_building = building_stellarite_food_processing_complex
				}
				is_voidframe_upgraded = yes
			}
		}
	}

	prerequisites = {
		tech_industrial_farming
	}

	show_tech_unlock_if = {
		giga_has_frameworld_origin = yes
	}

	conversion_ratio = 1
	convert_to = {
		district_giga_frameworld_farming
		
		district_giga_voidframe_farming_dm
		district_giga_voidframe_farming_de
		district_giga_voidframe_farming_pe
		district_giga_voidframe_farming_se
	}
	
	resources = {
		category = planet_districts
		cost = {
			minerals = @base_cost
		}
		upkeep = {
			energy = @base_upkeep
		}
	}
	
	planet_modifier = {
		planet_housing_add = 2
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_valid_civic = civic_agrarian_idyll
			}
		}
		modifier = {
			planet_housing_add = 1
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_technology = tech_housing_agrarian_idyll
				has_valid_civic = civic_agrarian_idyll
			}
		}
		modifier = {
			planet_housing_add = 1
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_machine_empire = yes
			}
		}
		modifier = {
			planet_housing_add = 1
		}
	}

	inline_script = {
		script = planet/food/giga_farmer_job_swap
		jobs = 2
		district = @yes
		extra_hive_jobs = @yes
	}
	
	ai_resource_production = {
		food = 1
		trigger = {
			always = yes
		}
	}
}

inline_script = {
	script = "districts/voidframe/basic/food"

	tier = "dm"
	reqtech = "tech_acot_dm_food_processing"
	ignore_aot = "yes"

	pass_condition = "
		has_building = building_acot_dm_food_processing_complex
	"
	fail_condition = "
		has_building = building_acot_ae_food_processing_complex
		has_building = building_phanon_food_processing_complex
		has_building = building_stellarite_food_processing_complex
	"

	house = "3"
	time = "240"

	acot_normjob = "job_acot_foodman_add = 2"
	acot_gestjob = "job_acot_fooddrone_add = 2"

	aot_normjob = ""
	aot_gestjob = ""

	cost = "minerals = 500 sr_dark_matter = 200"
	upkeep = "energy = 2"
}

inline_script = {
	script = "districts/voidframe/basic/food"

	tier = "de"
	reqtech = "tech_acot_ae_food_processing"
	ignore_aot = "yes"

	pass_condition = "
		has_building = building_acot_ae_food_processing_complex
	"
	fail_condition = "
		has_building = building_phanon_food_processing_complex
		has_building = building_stellarite_food_processing_complex
	"

	house = "3"
	time = "240"

	acot_normjob = "job_acot_foodman_add = 4"
	acot_gestjob = "job_acot_fooddrone_add = 4"

	aot_normjob = ""
	aot_gestjob = ""

	cost = "minerals = 500 sr_dark_matter = 200 acot_sr_dark_energy = 200"
	upkeep = "energy = 4 sr_dark_matter = 2"
}

inline_script = {
	script = "districts/voidframe/basic/food"

	tier = "pe"
	reqtech = "tech_phanon_food_processing"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_phanon_food_processing_complex
	"
	fail_condition = "
		has_building = building_stellarite_food_processing_complex
	"

	house = "3"
	time = "360"

	acot_normjob = ""
	acot_gestjob = ""

	aot_normjob = "job_phanon_foodman_add = 2"
	aot_gestjob = "job_phanon_fooddrone_add = 2"

	cost = "minerals = 1000 aot_sr_runic_power = 400"
	upkeep = "energy = 6 aot_sr_runic_power = 4"
}

inline_script = {
	script = "districts/voidframe/basic/food"

	tier = "se"
	reqtech = "tech_stellarite_food_processing"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_stellarite_food_processing_complex
	"
	fail_condition = ""

	house = "3"
	time = "480"

	acot_normjob = ""
	acot_gestjob = ""

	aot_normjob = "job_stellarite_foodman_add = 2"
	aot_gestjob = "job_stellarite_fooddrone_add = 2"

	cost = "minerals = 2000 acot_sr_stellarite = 400"
	upkeep = "energy = 8 acot_sr_stellarite = 6"
}

###############################################################################################################
###############################################################################################################
#          TRADE
###############################################################################################################
###############################################################################################################

district_giga_frameworld_trade = {
	base_buildtime = @advanced_time
	icon = district_hab_commercial
	is_capped_by_modifier = no

	show_on_uncolonized = {
		exists = from
		from = {
			is_gestalt = no
			has_technology = "tech_interstellar_economics"
		}
		uses_district_set = giga_frameworld
		is_voidframe_upgraded = no # shows maximum upgrade level
	}

	potential = {
		exists = owner
		owner = {
			is_gestalt = no
			has_technology = "tech_interstellar_economics"
		}
		uses_district_set = giga_frameworld
		OR = { # downgrade ability
			is_voidframe_upgraded = no
			AND = {
				NOR = {
					has_building = building_dm_commercial_megaplex
					has_building = building_ae_commercial_megaplex
					has_building = building_phanon_commercial_megaplex
					has_building = building_stellarite_commercial_megaplex
				}
				is_voidframe_upgraded = yes
			}
		}
	}

	prerequisites = {
		tech_interstellar_economics
	}

	show_tech_unlock_if = {
		giga_has_frameworld_origin = yes
		is_gestalt = no
	}

	conversion_ratio = 1
	convert_to = {
		district_giga_frameworld_trade
		#NOTE: cannot have this convert to a generator district as well, district conversions split equally between all listed districts.
		#so if I put a generator district here then when you upgrade trade, it splits the disticts between generator and upgraded trade which is
		district_giga_frameworld_trade_dm
		district_giga_frameworld_trade_de
		district_giga_frameworld_trade_pe
		district_giga_frameworld_trade_se
	}

	resources = {
		category = planet_districts_hab_trade
		cost = {
			minerals = @advanced_cost
			rare_crystals = @advanced_rare_cost
		}
		upkeep = {
			energy = @advanced_upkeep
			rare_crystals = @advanced_rare_upkeep
		}
	}

	planet_modifier = {
		planet_housing_add = 2
		job_clerk_add = 4
		job_trader_add = 2
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_active_tradition = tr_mercantile_commercial_enterprise
			}
		}
		modifier = {
			job_trader_add = 2
		}
	}

	triggered_desc = {
		text = job_clerk_effect_desc
	}

	triggered_desc = {
		text = job_trader_effect_desc
	}

	ai_resource_production = {
		energy = 6
		trigger = {
			OR = {
				num_unemployed >= 10
				num_assigned_jobs = {
					job = servant
					value >= 10
				}
			}
		}
	}
}

inline_script = {
	script = "districts/voidframe/empire/trade"

	tier = "dm"
	reqtech = "tech_dm_commercial_megaplex"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_dm_commercial_megaplex
	"
	fail_condition = "
		has_building = building_ae_commercial_megaplex
		has_building = building_phanon_commercial_megaplex
		has_building = building_stellarite_commercial_megaplex
	"

	time = "480"

	aot_normjob = "job_dm_clerk_add = 4 job_anz_voidframe_trader_dm_add = 2"
	aot_normjob_virt = "job_dm_clerk_add = 2"

	cost = "minerals = 1000 sr_dark_matter = 200"
	upkeep = "energy = 4"

	#NOTE: while this is delta tech level, the jobs are from AOT, not ACOT.
}

inline_script = {
	script = "districts/voidframe/empire/trade"

	tier = "de"
	reqtech = "tech_ae_commercial_megaplex"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_ae_commercial_megaplex
	"
	fail_condition = "
		has_building = building_phanon_commercial_megaplex
		has_building = building_stellarite_commercial_megaplex
	"

	time = "480"

	aot_normjob = "job_ae_clerk_add = 4 job_anz_voidframe_trader_de_add = 2"
	aot_normjob_virt = "job_ae_clerk_add = 2"

	cost = "minerals = 1000 sr_dark_matter = 400 acot_sr_dark_energy = 400"
	upkeep = "energy = 6 sr_dark_matter = 2"

	#NOTE: while this is delta tech level, the jobs are from AOT, not ACOT.
}

inline_script = {
	script = "districts/voidframe/empire/trade"

	tier = "pe"
	reqtech = "tech_phanon_commercial_megaplex"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_phanon_commercial_megaplex
	"
	fail_condition = "
		has_building = building_stellarite_commercial_megaplex
	"

	time = "540"

	aot_normjob = "job_phanon_clerk_add = 4 job_anz_voidframe_trader_pe_add = 2"
	aot_normjob_virt = "job_phanon_clerk_add = 2"

	cost = "energy = 2000 minerals = 2000 aot_sr_runic_power = 800"
	upkeep = "energy = 10 aot_sr_runic_power = 10"
}

inline_script = {
	script = "districts/voidframe/empire/trade"

	tier = "se"
	reqtech = "tech_stellarite_commercial_megaplex"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_stellarite_commercial_megaplex
	"
	fail_condition = ""

	time = "630"

	aot_normjob = "job_stellarite_clerk_add = 4 job_anz_voidframe_trader_se_add = 2"
	aot_normjob_virt = "job_stellarite_clerk_add = 2"

	cost = "energy = 4000 minerals = 4000 acot_sr_stellarite = 800"
	upkeep = "energy = 20 acot_sr_stellarite = 10"
}

###############################################################################################################
###############################################################################################################
#          UNITY
###############################################################################################################
###############################################################################################################

# normal empire unity
district_giga_frameworld_administrative = {
	base_buildtime = @advanced_time
	icon = district_arcology_administrative
	is_capped_by_modifier = no
	
	show_on_uncolonized = {
		exists = from
		from = { 
			is_gestalt = no 
			giga_country_uses_priests = no
			has_technology = "tech_colonial_bureaucracy"
		}
		uses_district_set = giga_frameworld
		is_voidframe_upgraded = no # shows maximum upgrade level
	}
	
	potential = {
		exists = owner
		owner = { 
			is_gestalt = no
			giga_country_uses_priests = no
			has_technology = "tech_colonial_bureaucracy"
		}
		uses_district_set = giga_frameworld
		OR = { # downgrade ability
			is_voidframe_upgraded = no
			AND = {
				has_voidframe_mods_aot = yes
				NOR = {
					has_building = building_dm_bureaucratic
					has_building = building_ae_bureaucratic
					has_building = building_phanon_bureaucratic
					has_building = building_stellarite_bureaucratic
				}
				is_voidframe_upgraded = yes
			}
			AND = {
				has_voidframe_mods_aot = no
				NOR = {
					has_building = building_acot_dm_mansion
					has_building = building_acot_ae_mansion
				}
				is_voidframe_upgraded = yes
			}
		}
	}

	prerequisites = {
		tech_colonial_bureaucracy
	}

	show_tech_unlock_if = {
		giga_has_frameworld_origin = yes
		is_gestalt = no
		giga_country_uses_priests = no
	}
	
	conversion_ratio = 1
	convert_to = {
		district_giga_frameworld_administrative

		district_giga_voidframe_admin_dm
		district_giga_voidframe_admin_de
		district_giga_voidframe_admin_pe
		district_giga_voidframe_admin_se
		district_giga_voidframe_admin_acot_dm
		district_giga_voidframe_admin_acot_de

		district_giga_frameworld_temple

		district_giga_voidframe_temple_dm
		district_giga_voidframe_temple_de
		district_giga_voidframe_temple_pe
		district_giga_voidframe_temple_se

		district_giga_frameworld_simulation

		district_giga_voidframe_simulation_dm
		district_giga_voidframe_simulation_de
		district_giga_voidframe_simulation_pe
		district_giga_voidframe_simulation_se

		district_giga_frameworld_synapse

		district_giga_voidframe_synapse_dm
		district_giga_voidframe_synapse_de
		district_giga_voidframe_synapse_pe
		district_giga_voidframe_synapse_se

		district_giga_frameworld_sanctuary

		district_giga_voidframe_sanctuary_dm
		district_giga_voidframe_sanctuary_de
		district_giga_voidframe_sanctuary_pe
		district_giga_voidframe_sanctuary_se
	}
	
	resources = {
		category = planet_districts_hab_research
		cost = {
			minerals = @advanced_cost
			rare_crystals = @advanced_rare_cost
		}
		upkeep = {
			energy = @advanced_upkeep
			rare_crystals = @advanced_rare_upkeep
		}
	}
	
	planet_modifier = {
		planet_housing_add = 2
	}

	inline_script = {
		script = planet/unity/giga_bureaucrat_swap
		jobs = 4
		district = @yes
	}

	ai_resource_production = {
		unity = 1
		trigger = {
			always = yes
		}
	}
}

# aot districts
inline_script = {
	script = "districts/voidframe/empire/admin"

	tier = "dm"
	reqtech = "tech_dm_bureau"
	pass_condition = "
		has_building = building_dm_bureaucratic
	"
	fail_condition = "
		has_building = building_ae_bureaucratic
		has_building = building_phanon_bureaucratic
		has_building = building_stellarite_bureaucratic
	"

	time = "480"

	aot_normjob = "job_dm_bureaucrat_add = 2"
	aot_normjob_virt = "job_dm_bureaucrat_add = 1"

	cost = "minerals = 1000 sr_dark_matter = 200"
	upkeep = "energy = 4"
}

inline_script = {
	script = "districts/voidframe/empire/admin"

	tier = "de"
	reqtech = "tech_ae_bureau"
	pass_condition = "
		has_building = building_ae_bureaucratic
	"
	fail_condition = "
		has_building = building_phanon_bureaucratic
		has_building = building_stellarite_bureaucratic
	"

	time = "480"

	aot_normjob = "job_ae_bureaucrat_add = 2"
	aot_normjob_virt = "job_ae_bureaucrat_add = 1"

	cost = "minerals = 1000 sr_dark_matter = 400 acot_sr_dark_energy = 400"
	upkeep = "energy = 6 sr_dark_matter = 2"
}

inline_script = {
	script = "districts/voidframe/empire/admin"

	tier = "pe"
	reqtech = "tech_phanon_bureau"
	pass_condition = "
		has_building = building_phanon_bureaucratic
	"
	fail_condition = "
		has_building = building_stellarite_bureaucratic
	"

	time = "530"

	aot_normjob = "job_phanon_bureaucrat_add = 2"
	aot_normjob_virt = "job_phanon_bureaucrat_add = 1"

	cost = "energy = 2000 minerals = 2000 aot_sr_runic_power = 800"
	upkeep = "energy = 10 aot_sr_runic_power = 10"
}

inline_script = {
	script = "districts/voidframe/empire/admin"

	tier = "se"
	reqtech = "tech_stellarite_bureau"
	pass_condition = "
		has_building = building_stellarite_bureaucratic
	"
	fail_condition = ""

	time = "630"

	aot_normjob = "job_stellarite_bureaucrat_add = 2"
	aot_normjob_virt = "job_stellarite_bureaucrat_add = 1"

	cost = "energy = 4000 minerals = 4000 acot_sr_stellarite = 800"
	upkeep = "energy = 20 acot_sr_stellarite = 10"
}

# acot only
inline_script = {
	script = "districts/voidframe/empire/admin_acot_only"

	tier = "dm"
	reqtech = "tech_acot_dm_mansion"
	pass_condition = "
		has_building = building_acot_dm_mansion
	"
	fail_condition = "
		has_building = building_acot_ae_mansion
	"

	time = "480"

	acot_normjob = "job_anz_voidframe_admin_dm_add = 2"
	acot_normjob_virt = "job_anz_voidframe_admin_dm_add = 1"

	cost = "minerals = 1000 sr_dark_matter = 200"
	upkeep = "energy = 4"
}

inline_script = {
	script = "districts/voidframe/empire/admin_acot_only"

	tier = "de"
	reqtech = "tech_acot_ae_mansion"
	pass_condition = "
		has_building = building_acot_ae_mansion
	"
	fail_condition = ""

	time = "480"

	acot_normjob = "job_anz_voidframe_admin_dm_add = 4"
	acot_normjob_virt = "job_anz_voidframe_admin_dm_add = 2"

	cost = "minerals = 1000 sr_dark_matter = 400 acot_sr_dark_energy = 400"
	upkeep = "energy = 6 sr_dark_matter = 2"
}

###############################################################################################################

# spiritualist unity

district_giga_frameworld_temple = {
	base_buildtime = @advanced_time
	icon = district_arcology_administrative
	is_capped_by_modifier = no
	
	show_on_uncolonized = {
		exists = from
		from = { 
			is_gestalt = no
			giga_country_uses_priests = yes
			has_technology = "tech_holographic_rituals"
		}
		uses_district_set = giga_frameworld
		is_voidframe_upgraded = no # shows maximum upgrade level
	}
	
	potential = {
		exists = owner
		owner = { 
			is_gestalt = no
			giga_country_uses_priests = yes
			has_technology = "tech_holographic_rituals"
		}
		uses_district_set = giga_frameworld
		OR = { # downgrade ability
			is_voidframe_upgraded = no
			AND = {
				NOR = {
					has_building = building_acot_dm_temple
					has_building = building_acot_ae_temple
					has_building = building_phanon_empyrean_shrine
					has_building = building_stellarite_empyrean_shrine
				}
				is_voidframe_upgraded = yes
			}
		}
	}

	prerequisites = {
		tech_holographic_rituals
	}

	show_tech_unlock_if = {
		giga_has_frameworld_origin = yes
		is_gestalt = no
		giga_country_uses_priests = yes
	}
	
	conversion_ratio = 1
	convert_to = {
		district_giga_frameworld_administrative

		district_giga_voidframe_admin_dm
		district_giga_voidframe_admin_de
		district_giga_voidframe_admin_pe
		district_giga_voidframe_admin_se

		district_giga_frameworld_temple

		district_giga_voidframe_temple_dm
		district_giga_voidframe_temple_de
		district_giga_voidframe_temple_pe
		district_giga_voidframe_temple_se

		district_giga_frameworld_simulation

		district_giga_voidframe_simulation_dm
		district_giga_voidframe_simulation_de
		district_giga_voidframe_simulation_pe
		district_giga_voidframe_simulation_se

		district_giga_frameworld_synapse

		district_giga_voidframe_synapse_dm
		district_giga_voidframe_synapse_de
		district_giga_voidframe_synapse_pe
		district_giga_voidframe_synapse_se

		district_giga_frameworld_sanctuary

		district_giga_voidframe_sanctuary_dm
		district_giga_voidframe_sanctuary_de
		district_giga_voidframe_sanctuary_pe
		district_giga_voidframe_sanctuary_se
	}
	
	resources = {
		category = planet_districts_hab_research
		cost = {
			minerals = @advanced_cost
			rare_crystals = @advanced_rare_cost
		}
		upkeep = {
			energy = @advanced_upkeep
			rare_crystals = @advanced_rare_upkeep
		}
	}
	
	planet_modifier = {
		planet_housing_add = 2
	}

	inline_script = {
		script = planet/unity/giga_priest_swap
		jobs = 4
		district = @yes
	}

	# might not be great to stack
	#triggered_planet_modifier = {
	#	spiritualist_attraction = 0.1
	#}

	ai_resource_production = {
		unity = 1
		trigger = {
			always = yes
		}
	}
}

inline_script = {
	script = "districts/voidframe/empire/temple"

	tier = "dm"
	reqtech = "tech_acot_dm_temple"
	ignore_aot = "yes"

	pass_condition = "
		has_building = building_acot_dm_temple
	"
	fail_condition = "
		has_building = building_acot_ae_temple
		has_building = building_phanon_empyrean_shrine
		has_building = building_stellarite_empyrean_shrine
	"

	time = "480"

	acot_normjob = "job_acot_priest_add = 2"

	aot_normjob = ""

	cost = "minerals = 1000 sr_dark_matter = 200"
	upkeep = "energy = 4"
}

inline_script = {
	script = "districts/voidframe/empire/temple"

	tier = "de"
	reqtech = "tech_acot_ae_temple"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_acot_ae_temple
	"
	fail_condition = "
		has_building = building_phanon_empyrean_shrine
		has_building = building_stellarite_empyrean_shrine
	"

	time = "480"

	acot_normjob = "job_acot_priest_add = 4"

	aot_normjob = ""

	cost = "minerals = 1000 sr_dark_matter = 400 acot_sr_dark_energy = 400"
	upkeep = "energy = 6 sr_dark_matter = 2"
}

inline_script = {
	script = "districts/voidframe/empire/temple"

	tier = "pe"
	reqtech = "tech_phanon_empyrean_shrine"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_phanon_empyrean_shrine
	"
	fail_condition = "
		has_building = building_stellarite_empyrean_shrine
	"

	time = "530"

	acot_normjob = ""

	aot_normjob = "job_phanon_priest_add = 2"

	cost = "energy = 2000 minerals = 2000 aot_sr_runic_power = 800"
	upkeep = "energy = 10 aot_sr_runic_power = 10"
}

inline_script = {
	script = "districts/voidframe/empire/temple"

	tier = "se"
	reqtech = "tech_stellarite_empyrean_shrine"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_stellarite_empyrean_shrine
	"
	fail_condition = ""

	time = "630"

	acot_normjob = ""

	aot_normjob = "job_stellarite_priest_add = 2"

	cost = "energy = 4000 minerals = 4000 acot_sr_stellarite = 800"
	upkeep = "energy = 20 acot_sr_stellarite = 10"
}

###############################################################################################################

# hive unity

district_giga_frameworld_synapse = {
	base_buildtime = @advanced_time
	icon = district_arcology_administrative
	is_capped_by_modifier = no
	
	show_on_uncolonized = {
		exists = from
		from = { 
			is_hive_empire = yes 
			has_technology = "tech_hive_cluster"
		}
		uses_district_set = giga_frameworld
		is_voidframe_upgraded = no # shows maximum upgrade level
	}
	
	potential = {
		exists = owner
		owner = { 
			is_hive_empire = yes 
			has_technology = "tech_hive_cluster"
		}
		uses_district_set = giga_frameworld
		OR = { # downgrade ability
			is_voidframe_upgraded = no
			AND = {
				NOR = { # bit sussy on building choice but beggars cant be choosers
					has_building = building_acot_dm_hive_depot
					has_building = building_acot_ae_hive_depot
					has_building = building_phanon_hive_depot
					has_building = building_stellarite_hive_depot
				}
				is_voidframe_upgraded = yes
			}
		}
	}

	prerequisites = {
		tech_hive_cluster
	}

	show_tech_unlock_if = {
		giga_has_frameworld_origin = yes
		is_hive_empire = yes
		not = { has_valid_civic = civic_machine_servitor }
	}
	
	conversion_ratio = 1
	convert_to = {
		district_giga_frameworld_administrative

		district_giga_voidframe_admin_dm
		district_giga_voidframe_admin_de
		district_giga_voidframe_admin_pe
		district_giga_voidframe_admin_se

		district_giga_frameworld_temple

		district_giga_voidframe_temple_dm
		district_giga_voidframe_temple_de
		district_giga_voidframe_temple_pe
		district_giga_voidframe_temple_se

		district_giga_frameworld_simulation

		district_giga_voidframe_simulation_dm
		district_giga_voidframe_simulation_de
		district_giga_voidframe_simulation_pe
		district_giga_voidframe_simulation_se

		district_giga_frameworld_synapse

		district_giga_voidframe_synapse_dm
		district_giga_voidframe_synapse_de
		district_giga_voidframe_synapse_pe
		district_giga_voidframe_synapse_se

		district_giga_frameworld_sanctuary

		district_giga_voidframe_sanctuary_dm
		district_giga_voidframe_sanctuary_de
		district_giga_voidframe_sanctuary_pe
		district_giga_voidframe_sanctuary_se
	}
	
	resources = {
		category = planet_districts
		cost = {
			minerals = @advanced_cost
			exotic_gases = @advanced_rare_cost
		}
		upkeep = {
			energy = @advanced_upkeep
			exotic_gases = @advanced_rare_upkeep
		}
	}
	
	planet_modifier = {
		planet_housing_add = 2
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_active_tradition = tr_domination_synaptic_extensions
			}
		}
		modifier = {
			planet_housing_add = 2
		}
	}

	inline_script = {
		script = planet/unity/giga_gestalt_unity_job_swap
		jobs = 4
		district = @yes
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_edict = synaptic_reinforcement
			}
		}
		job_maintenance_drone_add = 1
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				has_edict = synaptic_reinforcement
			}
		}
		text = job_maintenance_drone_effect_desc
	}
	
	ai_resource_production = {
		unity = 1
		trigger = {
			always = yes
		}
	}
}

inline_script = {
	script = "districts/voidframe/empire/synapse"

	tier = "dm"
	reqtech = "tech_acot_dm_hive_depot"
	ignore_aot = "yes"

	pass_condition = "
		has_building = building_acot_dm_hive_depot
	"
	fail_condition = "
		has_building = building_acot_ae_hive_depot
		has_building = building_phanon_hive_depot
		has_building = building_stellarite_hive_depot
	"

	time = "480"

	acot_gestjob = "job_anz_voidframe_synapse_drone_dm_add = 2"

	aot_gestjob = ""

	cost = "minerals = 1000 sr_dark_matter = 200"
	upkeep = "energy = 4"
}

inline_script = {
	script = "districts/voidframe/empire/synapse"

	tier = "de"
	reqtech = "tech_acot_ae_hive_depot"
	ignore_aot = "yes"

	pass_condition = "
		has_building = building_acot_ae_hive_depot
	"
	fail_condition = "
		has_building = building_phanon_hive_depot
		has_building = building_stellarite_hive_depot
	"

	time = "480"

	acot_gestjob = "job_anz_voidframe_synapse_drone_de_add = 2"

	aot_gestjob = ""

	cost = "minerals = 1000 sr_dark_matter = 400 acot_sr_dark_energy = 400"
	upkeep = "energy = 6 sr_dark_matter = 2"
}

inline_script = {
	script = "districts/voidframe/empire/synapse"

	tier = "pe"
	reqtech = "tech_phanon_hive_depot"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_phanon_hive_depot
	"
	fail_condition = "
		has_building = building_stellarite_hive_depot
	"

	time = "540"

	acot_gestjob = ""

	aot_gestjob = "job_anz_voidframe_synapse_drone_pe_add = 2"

	cost = "energy = 2000 minerals = 2000 aot_sr_runic_power = 800"
	upkeep = "energy = 10 aot_sr_runic_power = 10"
}

inline_script = {
	script = "districts/voidframe/empire/synapse"

	tier = "se"
	reqtech = "tech_stellarite_hive_depot"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_stellarite_hive_depot
	"
	fail_condition = ""

	time = "630"

	acot_gestjob = ""

	aot_gestjob = "job_anz_voidframe_synapse_drone_se_add = 2"

	cost = "energy = 4000 minerals = 4000 acot_sr_stellarite = 800"

	upkeep = "energy = 20 acot_sr_stellarite = 10"
}

###############################################################################################################

# machine unity

district_giga_frameworld_simulation = { # megumin was once here and someday they'll return # im not megumin ayylmao
	base_buildtime = @advanced_time
	icon = district_arcology_administrative
	is_capped_by_modifier = no
	
	show_on_uncolonized = {
		exists = from
		from = { 
			is_machine_empire = yes 
			NOT = { has_valid_civic = civic_machine_servitor }
			has_technology = "tech_colonial_bureaucracy"
		}
		uses_district_set = giga_frameworld
		is_voidframe_upgraded = no # shows maximum upgrade level
	}
	
	potential = {
		exists = owner
		owner = { 
			is_machine_empire = yes 
			NOT = { has_valid_civic = civic_machine_servitor }
			has_technology = "tech_colonial_bureaucracy"
		}
		uses_district_set = giga_frameworld
		OR = { # downgrade ability
			is_voidframe_upgraded = no
			AND = {
				NOR = { # bit sussy on building choice but beggars cant be choosers
					has_building = building_acot_dm_ancient_cryo_chamber
					has_building = building_acot_ae_ancient_cryo_chamber
					has_building = building_phanon_ancient_cryo_chamber
					has_building = building_stellarite_ancient_cryo_chamber
				}
				is_voidframe_upgraded = yes
			}
		}
	}

	prerequisites = {
		tech_colonial_bureaucracy
	}

	show_tech_unlock_if = {
		giga_has_frameworld_origin = yes
		is_machine_empire = yes
		not = { has_valid_civic = civic_machine_servitor }
	}
	
	conversion_ratio = 1
	convert_to = {
		district_giga_frameworld_administrative

		district_giga_voidframe_admin_dm
		district_giga_voidframe_admin_de
		district_giga_voidframe_admin_pe
		district_giga_voidframe_admin_se

		district_giga_frameworld_temple

		district_giga_voidframe_temple_dm
		district_giga_voidframe_temple_de
		district_giga_voidframe_temple_pe
		district_giga_voidframe_temple_se

		district_giga_frameworld_simulation

		district_giga_voidframe_simulation_dm
		district_giga_voidframe_simulation_de
		district_giga_voidframe_simulation_pe
		district_giga_voidframe_simulation_se

		district_giga_frameworld_synapse

		district_giga_voidframe_synapse_dm
		district_giga_voidframe_synapse_de
		district_giga_voidframe_synapse_pe
		district_giga_voidframe_synapse_se

		district_giga_frameworld_sanctuary

		district_giga_voidframe_sanctuary_dm
		district_giga_voidframe_sanctuary_de
		district_giga_voidframe_sanctuary_pe
		district_giga_voidframe_sanctuary_se
	}
	
	resources = {
		category = planet_districts_hab_research
		cost = {
			minerals = @advanced_cost
			rare_crystals = @advanced_rare_cost
		}
		upkeep = {
			energy = @advanced_upkeep
			rare_crystals = @advanced_rare_upkeep
		}
	}
	
	planet_modifier = {
		planet_housing_add = 2
	}
	
	inline_script = {
		script = planet/unity/giga_gestalt_unity_job_swap
		jobs = 4
		district = @yes
	}
	
	ai_resource_production = {
		unity = 1
		trigger = {
			always = yes
		}
	}
}

inline_script = {
	script = "districts/voidframe/empire/simulator"

	tier = "dm"
	reqtech = "tech_acot_dm_ancient_cryo_chamber"
	ignore_aot = "yes"

	pass_condition = "
		has_building = building_acot_dm_ancient_cryo_chamber
	"
	fail_condition = "
		has_building = building_acot_ae_ancient_cryo_chamber
		has_building = building_phanon_ancient_cryo_chamber
		has_building = building_stellarite_ancient_cryo_chamber
	"

	time = "480"

	acot_gestjob = "job_anz_voidframe_admin_drone_dm_add = 2"
	acot_gestjob_virt = "job_anz_voidframe_admin_drone_dm_add = 1"

	aot_gestjob = ""
	aot_gestjob_virt = ""

	cost = "minerals = 1000 sr_dark_matter = 200"
	upkeep = "energy = 4"
}

inline_script = {
	script = "districts/voidframe/empire/simulator"

	tier = "de"
	reqtech = "tech_acot_ae_ancient_cryo_chamber"
	ignore_aot = "yes"

	pass_condition = "
		has_building = building_acot_ae_ancient_cryo_chamber
	"
	fail_condition = "
		has_building = building_phanon_ancient_cryo_chamber
		has_building = building_stellarite_ancient_cryo_chamber
	"

	time = "480"

	acot_gestjob = "job_anz_voidframe_admin_drone_de_add = 2"
	acot_gestjob_virt = "job_anz_voidframe_admin_drone_de_add = 1"

	aot_gestjob = ""
	aot_gestjob_virt = ""

	cost = "minerals = 1000 sr_dark_matter = 400 acot_sr_dark_energy = 400"
	upkeep = "energy = 6 sr_dark_matter = 2"
}

inline_script = {
	script = "districts/voidframe/empire/simulator"

	tier = "pe"
	reqtech = "tech_phanon_ancient_cryo_chamber"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_phanon_ancient_cryo_chamber
	"
	fail_condition = "
		has_building = building_stellarite_ancient_cryo_chamber
	"

	time = "540"

	acot_gestjob = ""
	acot_gestjob_virt = ""

	aot_gestjob = "job_anz_voidframe_admin_drone_pe_add = 2"
	aot_gestjob_virt = "job_anz_voidframe_admin_drone_pe_add = 1"

	cost = "energy = 2000 minerals = 2000 aot_sr_runic_power = 800"
	upkeep = "energy = 10 aot_sr_runic_power = 10"
}

inline_script = {
	script = "districts/voidframe/empire/simulator"

	tier = "se"
	reqtech = "tech_stellarite_ancient_cryo_chamber"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_stellarite_ancient_cryo_chamber
	"
	fail_condition = ""

	time = "630"

	acot_gestjob = ""
	acot_gestjob_virt = ""

	aot_gestjob = "job_anz_voidframe_admin_drone_se_add = 2"
	aot_gestjob_virt = "job_anz_voidframe_admin_drone_se_add = 1"

	cost = "energy = 4000 minerals = 4000 acot_sr_stellarite = 800"
	upkeep = "energy = 20 acot_sr_stellarite = 10"
}

###############################################################################################################

# servitor unity

district_giga_frameworld_sanctuary = {
	base_buildtime = @advanced_time
	icon = district_arcology_administrative
	is_capped_by_modifier = no
	
	show_on_uncolonized = {
		exists = from
		from = { 
			is_machine_empire = yes 
			has_valid_civic = civic_machine_servitor
			has_technology = "tech_paradise_dome"
		}
		not = { has_planet_flag = frameworld_advanced_sanctuary }
		uses_district_set = giga_frameworld
		is_voidframe_upgraded = no # shows maximum upgrade level
	}
	
	potential = {
		exists = owner
		owner = { 
			is_machine_empire = yes 
			has_valid_civic = civic_machine_servitor
			has_technology = "tech_paradise_dome"
		}
		not = { has_planet_flag = frameworld_advanced_sanctuary }
		uses_district_set = giga_frameworld
		OR = { # downgrade ability
			is_voidframe_upgraded = no
			AND = {
				NOR = { # bit sussy on building choice but beggars cant be choosers
					has_building = building_acot_dm_ancient_cryo_chamber
					has_building = building_acot_ae_ancient_cryo_chamber
					has_building = building_phanon_ancient_cryo_chamber
					has_building = building_stellarite_ancient_cryo_chamber
				}
				is_voidframe_upgraded = yes
			}
		}
	}

	allow = {
		exists = owner
		owner = {
			is_ai = no
		}
	}

	prerequisites = {
		tech_paradise_dome
	}

	show_tech_unlock_if = {
		giga_has_frameworld_origin = yes
		has_valid_civic = civic_machine_servitor
	}
	
	conversion_ratio = 1
	convert_to = {		
		district_giga_frameworld_sanctuary_advanced

		district_giga_frameworld_administrative

		district_giga_voidframe_admin_dm
		district_giga_voidframe_admin_de
		district_giga_voidframe_admin_pe
		district_giga_voidframe_admin_se

		district_giga_frameworld_temple

		district_giga_voidframe_temple_dm
		district_giga_voidframe_temple_de
		district_giga_voidframe_temple_pe
		district_giga_voidframe_temple_se

		district_giga_frameworld_simulation

		district_giga_voidframe_simulation_dm
		district_giga_voidframe_simulation_de
		district_giga_voidframe_simulation_pe
		district_giga_voidframe_simulation_se

		district_giga_frameworld_synapse

		district_giga_voidframe_synapse_dm
		district_giga_voidframe_synapse_de
		district_giga_voidframe_synapse_pe
		district_giga_voidframe_synapse_se

		district_giga_frameworld_sanctuary

		district_giga_voidframe_sanctuary_dm
		district_giga_voidframe_sanctuary_de
		district_giga_voidframe_sanctuary_pe
		district_giga_voidframe_sanctuary_se
	}
	
	resources = {
		category = planet_districts_hab_research
		cost = {
			minerals = @advanced_cost
			exotic_gases = @advanced_rare_cost
		}
		upkeep = {
			energy = @advanced_upkeep
			exotic_gases = @advanced_rare_upkeep
		}
	}
	
	planet_modifier = {
		planet_housing_add = 2
		job_bio_trophy_add = 20
	}
	
	triggered_desc = {
		text = job_bio_trophy_effect_desc
	}

	ai_resource_production = {
		trigger = {
			free_district_slots > 0
			has_unemployed_pop_of_category = bio_trophy
		}
		ai_unobtainium = 1000
	}

	ai_resource_production = {
		unity = 20
		physics_research = 20

		trigger = {
			has_unemployed_pop_of_category = bio_trophy

			planet_resource_compare = {
				resource = physics_research
				value >= 100
				type = produces
			}
		}
	}

	ai_resource_production = {
		unity = 20
		alloys = 20

		trigger = {
			has_unemployed_pop_of_category = bio_trophy

			planet_resource_compare = {
				resource = alloys
				value >= 100
				type = produces
			}
		}
	}

	ai_resource_production = {
		unity = 20
		consumer_goods = 20

		trigger = {
			has_unemployed_pop_of_category = bio_trophy

			planet_resource_compare = {
				resource = consumer_goods
				value >= 100
				type = produces
			}
		}
	}
}

district_giga_frameworld_sanctuary_advanced = {
	base_buildtime = @mega_time
	icon = district_arcology_administrative
	is_capped_by_modifier = no
	
	show_on_uncolonized = {
		exists = from
		from = { 
			is_machine_empire = yes 
			has_valid_civic = civic_machine_servitor
			has_technology = "tech_paradise_dome"
		}
		has_planet_flag = frameworld_advanced_sanctuary
		uses_district_set = giga_frameworld
		is_voidframe_upgraded = no # shows maximum upgrade level
	}
	
	potential = {
		exists = owner
		owner = { 
			is_machine_empire = yes 
			has_valid_civic = civic_machine_servitor
			has_technology = "tech_paradise_dome"
		}
		has_planet_flag = frameworld_advanced_sanctuary
		uses_district_set = giga_frameworld
		OR = { # downgrade ability
			is_voidframe_upgraded = no
			AND = {
				NOR = { # bit sussy on building choice but beggars cant be choosers
					has_building = building_acot_dm_ancient_cryo_chamber
					has_building = building_acot_ae_ancient_cryo_chamber
					has_building = building_phanon_ancient_cryo_chamber
					has_building = building_stellarite_ancient_cryo_chamber
				}
				is_voidframe_upgraded = yes
			}
		}
	}

	allow = {
		exists = owner
		owner = {
			is_ai = no
		}
	}
	
	conversion_ratio = 1
	convert_to = {
		district_giga_frameworld_administrative

		district_giga_voidframe_admin_dm
		district_giga_voidframe_admin_de
		district_giga_voidframe_admin_pe
		district_giga_voidframe_admin_se

		district_giga_frameworld_temple

		district_giga_voidframe_temple_dm
		district_giga_voidframe_temple_de
		district_giga_voidframe_temple_pe
		district_giga_voidframe_temple_se

		district_giga_frameworld_simulation

		district_giga_voidframe_simulation_dm
		district_giga_voidframe_simulation_de
		district_giga_voidframe_simulation_pe
		district_giga_voidframe_simulation_se

		district_giga_frameworld_synapse

		district_giga_voidframe_synapse_dm
		district_giga_voidframe_synapse_de
		district_giga_voidframe_synapse_pe
		district_giga_voidframe_synapse_se

		district_giga_frameworld_sanctuary

		district_giga_voidframe_sanctuary_dm
		district_giga_voidframe_sanctuary_de
		district_giga_voidframe_sanctuary_pe
		district_giga_voidframe_sanctuary_se
	}
	
	resources = {
		category = planet_districts_hab_research
		cost = {
			minerals = @advanced_double_cost
			exotic_gases = @advanced_double_rare_cost
		}
		upkeep = {
			energy = @advanced_double_upkeep
			exotic_gases = @advanced_double_rare_upkeep
		}
	}
	
	planet_modifier = {
		planet_housing_add = 4
		job_bio_trophy_add = 40
	}
	
	triggered_desc = {
		text = job_bio_trophy_effect_desc
	}

	ai_resource_production = {
		unity = 4
		trigger = {
			always = yes
		}
	}

	ai_resource_production = {
		trigger = {
			free_district_slots > 0
			has_unemployed_pop_of_category = bio_trophy
		}
		ai_unobtainium = 1000
	}

	ai_resource_production = {
		unity = 40
		physics_research = 40

		trigger = {
			has_unemployed_pop_of_category = bio_trophy

			planet_resource_compare = {
				resource = physics_research
				value >= 100
				type = produces
			}
		}
	}

	ai_resource_production = {
		unity = 40
		alloys = 40

		trigger = {
			has_unemployed_pop_of_category = bio_trophy

			planet_resource_compare = {
				resource = alloys
				value >= 100
				type = produces
			}
		}
	}

	ai_resource_production = {
		unity = 40
		consumer_goods = 40

		trigger = {
			has_unemployed_pop_of_category = bio_trophy

			planet_resource_compare = {
				resource = consumer_goods
				value >= 100
				type = produces
			}
		}
	}
}

inline_script = {
	script = "districts/voidframe/empire/sanctuary"

	tier = "dm"
	reqtech = "tech_acot_dm_ancient_cryo_chamber"
	ignore_aot = "yes"

	pass_condition = "
		has_building = building_acot_dm_ancient_cryo_chamber
	"
	fail_condition = "
		has_building = building_acot_ae_ancient_cryo_chamber
		has_building = building_phanon_ancient_cryo_chamber
		has_building = building_stellarite_ancient_cryo_chamber
	"

	time = "480"

	cost = "minerals = 1000 sr_dark_matter = 200"
	upkeep = "energy = 4"
}

inline_script = {
	script = "districts/voidframe/empire/sanctuary"

	tier = "de"
	reqtech = "tech_acot_ae_ancient_cryo_chamber"
	ignore_aot = "yes"

	pass_condition = "
		has_building = building_acot_ae_ancient_cryo_chamber
	"
	fail_condition = "
		has_building = building_phanon_ancient_cryo_chamber
		has_building = building_stellarite_ancient_cryo_chamber
	"

	time = "480"

	cost = "minerals = 1000 sr_dark_matter = 400 acot_sr_dark_energy = 400"
	upkeep = "energy = 6 sr_dark_matter = 2"
}

inline_script = {
	script = "districts/voidframe/empire/sanctuary"

	tier = "pe"
	reqtech = "tech_phanon_ancient_cryo_chamber"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_phanon_ancient_cryo_chamber
	"
	fail_condition = "
		has_building = building_stellarite_ancient_cryo_chamber
	"

	time = "540"

	cost = "energy = 2000 minerals = 2000 aot_sr_runic_power = 800"
	upkeep = "energy = 10 aot_sr_runic_power = 10"
}

inline_script = {
	script = "districts/voidframe/empire/sanctuary"

	tier = "se"
	reqtech = "tech_stellarite_ancient_cryo_chamber"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_stellarite_ancient_cryo_chamber
	"
	fail_condition = ""

	time = "630"

	cost = "energy = 4000 minerals = 4000 acot_sr_stellarite = 800"

	upkeep = "energy = 20 acot_sr_stellarite = 10"
}

###############################################################################################################
###############################################################################################################
#          SPECIALIST
###############################################################################################################
###############################################################################################################

# research

district_giga_frameworld_science = {
	base_buildtime = @advanced_time
	icon = district_hab_science
	is_capped_by_modifier = no
	
	show_on_uncolonized = {
		exists = from
		from = {
			has_technology = "tech_basic_science_lab_2"
		}
		uses_district_set = giga_frameworld
		is_voidframe_upgraded = no # shows maximum upgrade level
	}
	
	potential = {
		exists = owner
		owner = {
			has_technology = "tech_basic_science_lab_2"
		}
		uses_district_set = giga_frameworld
		OR = { # downgrade ability
			is_voidframe_upgraded = no
			AND = {
				NOR = {
					has_building = building_acot_dm_enigmatic_lab
					has_building = building_acot_ae_enigmatic_lab
					has_building = building_phanon_enigmatic_lab
					has_building = building_stellarite_enigmatic_lab
				}
				is_voidframe_upgraded = yes
			}
		}
	}

	prerequisites = {
		tech_basic_science_lab_2
	}

	show_tech_unlock_if = {
		giga_has_frameworld_origin = yes
	}

	conversion_ratio = 1
	convert_to = {
		district_giga_frameworld_science

		district_giga_voidframe_science_dm
		district_giga_voidframe_science_de
		district_giga_voidframe_science_pe
		district_giga_voidframe_science_se
	}
	
	resources = {
		category = planet_districts_hab_research
		cost = {
			minerals = @advanced_cost
			exotic_gases = @advanced_rare_cost
		}
		upkeep = {
			energy = @advanced_upkeep
			exotic_gases = @advanced_rare_upkeep
		}

		# nanite upgrade
		upkeep = {
			trigger = {
				frameworld_has_active_nanite_upgrade = yes
			}
			nanites = @advanced_rare_upkeep
		}
	}
	
	planet_modifier = {
		planet_housing_add = 2
	}
	
	inline_script = {
		script = planet/research/giga_researcher_job_swap
		jobs = 3
		district = @yes
	}
	inline_script = {
		script = planet/research/giga_researcher_job_swap
		jobs = 1
		district = @yes
		description = @no

		condition = "frameworld_has_active_nanite_upgrade = no"
	}

	# nanite upgrade
	inline_script = {
		script = planet/research/giga_nanotech_researcher_job_swap
		jobs = 3
		district = @yes

		condition = "frameworld_has_active_nanite_upgrade = yes"
	}
	ai_resource_production = {
		physics_research = 16
		trigger = {
			always = yes
		}
	}
	ai_resource_production = {
		society_research = 16
		trigger = {
			always = yes
		}
	}
	ai_resource_production = {
		engineering_research = 16
		trigger = {
			always = yes
		}
	}

	ai_resource_production = {
		ai_unobtainium = 1000
		trigger = {
			frameworld_want_science = yes
		}
	}
}

inline_script = {
	script = "districts/voidframe/empire/science"

	tier = "dm"
	reqtech = "tech_acot_dm_enigmatic_lab"
	ignore_aot = "yes"

	pass_condition = "
		has_building = building_acot_dm_enigmatic_lab
	"
	fail_condition = "
		has_building = building_acot_ae_enigmatic_lab
		has_building = building_phanon_enigmatic_lab
		has_building = building_stellarite_enigmatic_lab
	"

	time = "480"

	acot_normjob = "job_acot_researcher_add = 2"
	acot_gestjob = "job_acot_researcher_drone_add = 2"
	acot_normjob_virt = "job_acot_researcher_add = 1"
	acot_gestjob_virt = "job_acot_researcher_drone_add = 1"

	aot_normjob = ""
	aot_gestjob = ""
	aot_normjob_virt = ""
	aot_gestjob_virt = ""

	cost = "minerals = 1000 sr_dark_matter = 200"
	upkeep = "energy = 4"
}

inline_script = {
	script = "districts/voidframe/empire/science"

	tier = "de"
	reqtech = "tech_acot_ae_enigmatic_lab"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_acot_ae_enigmatic_lab
	"
	fail_condition = "
		has_building = building_phanon_enigmatic_lab
		has_building = building_stellarite_enigmatic_lab
	"

	time = "480"

	acot_normjob = "job_acot_researcher_add = 4"
	acot_gestjob = "job_acot_researcher_drone_add = 4"
	acot_normjob_virt = "job_acot_researcher_add = 2"
	acot_gestjob_virt = "job_acot_researcher_drone_add = 2"

	aot_normjob = "job_ae_researcher_add = 2"
	aot_gestjob = "job_ae_researcher_drone_add = 2"
	aot_normjob_virt = "job_ae_researcher_add = 1"
	aot_gestjob_virt = "job_ae_researcher_drone_add = 1"

	cost = "minerals = 1000 sr_dark_matter = 400 acot_sr_dark_energy = 400"
	upkeep = "energy = 6 sr_dark_matter = 2"
}

inline_script = {
	script = "districts/voidframe/empire/science"

	tier = "pe"
	reqtech = "tech_phanon_enigmatic_lab"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_phanon_enigmatic_lab
	"
	fail_condition = "
		has_building = building_stellarite_enigmatic_lab
	"

	time = "540"

	acot_normjob = ""
	acot_gestjob = ""
	acot_normjob_virt = ""
	acot_gestjob_virt = ""

	aot_normjob = "job_phanon_researcher_add = 2"
	aot_gestjob = "job_phanon_researcher_drone_add = 2"
	aot_normjob_virt = "job_phanon_researcher_add = 1"
	aot_gestjob_virt = "job_phanon_researcher_drone_add = 1"

	cost = "energy = 2000 minerals = 2000 aot_sr_runic_power = 800"
	upkeep = "energy = 10 aot_sr_runic_power = 10"
}

inline_script = {
	script = "districts/voidframe/empire/science"

	tier = "se"
	reqtech = "tech_stellarite_enigmatic_lab"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_stellarite_enigmatic_lab
	"
	fail_condition = ""

	time = "630"

	acot_normjob = ""
	acot_gestjob = ""
	acot_normjob_virt = ""
	acot_gestjob_virt = ""

	aot_normjob = "job_stellarite_researcher_add = 2"
	aot_gestjob = "job_stellarite_researcher_drone_add = 2"
	aot_normjob_virt = "job_stellarite_researcher_add = 1"
	aot_gestjob_virt = "job_stellarite_researcher_drone_add = 1"

	cost = "energy = 4000 minerals = 4000 acot_sr_stellarite = 800"

	upkeep = "energy = 20 acot_sr_stellarite = 10"
}

###############################################################################################################

# anti-crime

district_giga_frameworld_anticrime = {
	base_buildtime = @advanced_time
	#icon = district_penrose_generator
	is_capped_by_modifier = no
	
	show_on_uncolonized = {
		exists = from
		from = {
			has_technology = "tech_colonial_centralization"
		}
		uses_district_set = giga_frameworld
		is_voidframe_upgraded = no # shows maximum upgrade level
	}
	
	potential = {
		exists = owner
		owner = {
			has_technology = "tech_colonial_centralization"
		}
		uses_district_set = giga_frameworld
		OR = { # downgrade ability
			is_voidframe_upgraded = no
			AND = {
				NOR = {
					has_building = building_acot_dm_stronghold
					has_building = building_acot_ae_stronghold
					has_building = building_phanon_stronghold
					has_building = building_stellarite_stronghold
				}
				is_voidframe_upgraded = yes
			}
		}
	}

	prerequisites = {
		tech_colonial_centralization
	}

	show_tech_unlock_if = {
		giga_has_frameworld_origin = yes
	}

	conversion_ratio = 1
	convert_to = {
		district_giga_frameworld_anticrime

		district_giga_voidframe_anticrime_dm
		district_giga_voidframe_anticrime_de
		district_giga_voidframe_anticrime_pe
		district_giga_voidframe_anticrime_se
	}
	
	resources = {
		category = planet_districts
		cost = {
			minerals = @advanced_cost
			volatile_motes = @advanced_rare_cost
		}
		upkeep = {
			energy = @advanced_upkeep
			volatile_motes = @advanced_rare_upkeep
		}
	}
	
	planet_modifier = {
		planet_housing_add = 2
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = no }
		}
		modifier = {
			job_enforcer_add = 5
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		modifier = {
			job_patrol_drone_add = 5
		}
	}
	
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { is_gestalt = no }
		}
		text = job_enforcer_effect_desc
	}
	
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		text = job_patrol_drone_effect_desc
	}

	ai_resource_production = {
		ai_unobtainium = 1000
		trigger = {
			frameworld_want_anticrime = yes
		}
	}
}

inline_script = {
	script = "districts/voidframe/advanced/anticrime"

	tier = "dm"
	reqtech = "tech_acot_dm_stronghold"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_acot_dm_stronghold
	"
	fail_condition = "
		has_building = building_acot_ae_stronghold
		has_building = building_phanon_stronghold
		has_building = building_stellarite_stronghold	
	"
	time = "480"

	acot_normjob = "job_acot_enforcer_add = 3"
	acot_gestjob = "job_acot_enforcer_drone_add = 3"

	aot_normjob = "job_aot_dm_enforcer_add = 4"
	aot_gestjob = "job_aot_dm_enforcer_drone_add = 4"

	cost = "minerals = 1000 sr_dark_matter = 200"
	upkeep = "energy = 4"
}

inline_script = {
	script = "districts/voidframe/advanced/anticrime"

	tier = "de"
	reqtech = "tech_acot_ae_stronghold"
	ignore_aot = "yes"

	pass_condition = "
		has_building = building_acot_ae_stronghold
	"
	fail_condition = "
		has_building = building_phanon_stronghold
		has_building = building_stellarite_stronghold
	"

	time = "480"

	acot_normjob = "job_acot_enforcer_add = 4"
	acot_gestjob = "job_acot_enforcer_drone_add = 4"

	aot_normjob = ""
	aot_gestjob = ""

	cost = "minerals = 1000 sr_dark_matter = 400 acot_sr_dark_energy = 400"
	upkeep = "energy = 6 sr_dark_matter = 2"
}

inline_script = {
	script = "districts/voidframe/advanced/anticrime"

	tier = "pe"
	reqtech = "tech_phanon_stronghold"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_phanon_stronghold
	"
	fail_condition = "
		has_building = building_stellarite_stronghold
	"

	time = "540"

	acot_normjob = ""
	acot_gestjob = ""

	aot_normjob = "job_phanon_enforcer_add = 3"
	aot_gestjob = "job_phanon_enforcer_drone_add = 3"

	cost = "energy = 2000 minerals = 2000 aot_sr_runic_power = 800"
	upkeep = "energy = 10 aot_sr_runic_power = 10"
}

inline_script = {
	script = "districts/voidframe/advanced/anticrime"

	tier = "se"
	reqtech = "tech_stellarite_stronghold"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_stellarite_stronghold
	"
	fail_condition = ""

	time = "630"

	acot_normjob = ""
	acot_gestjob = ""

	aot_normjob = "job_stellarite_enforcer_add = 3"
	aot_gestjob = "job_stellarite_enforcer_drone_add = 3"

	cost = "energy = 4000 minerals = 4000 acot_sr_stellarite = 800"

	upkeep = "energy = 20 acot_sr_stellarite = 10"
}

###############################################################################################################

# amenities

district_giga_frameworld_amenities = {	# worth 40 amenities
	base_buildtime = @advanced_time
	icon = district_arcology_leisure
	is_capped_by_modifier = no
	
	show_on_uncolonized = {
		exists = from
		from = {
			is_gestalt = no
			NOT = { has_valid_civic = civic_dystopian_society }
			has_technology = tech_hyper_entertainment_forum
		}
		uses_district_set = giga_frameworld
		is_voidframe_upgraded = no # shows maximum upgrade level
	}
	
	potential = {
		exists = owner
		owner = {
			is_gestalt = no
			NOT = { has_valid_civic = civic_dystopian_society }
			has_technology = tech_hyper_entertainment_forum
		}
		uses_district_set = giga_frameworld
		is_voidframe_upgraded = no
	}

	prerequisites = {
		tech_hyper_entertainment_forum
	}

	conversion_ratio = 1.0
	convert_to = {
		district_giga_frameworld_amenities

		district_giga_voidframe_amenities_dm
		district_giga_voidframe_amenities_de
		district_giga_voidframe_amenities_pe
		district_giga_voidframe_amenities_se

		district_giga_frameworld_amenities_gestalt

		district_giga_voidframe_amenities_gestalt_dm
		district_giga_voidframe_amenities_gestalt_de
		district_giga_voidframe_amenities_gestalt_pe
		district_giga_voidframe_amenities_gestalt_se

		district_giga_frameworld_amenities_dystopian

		district_giga_voidframe_amenities_dystopian_dm
		district_giga_voidframe_amenities_dystopian_de
		district_giga_voidframe_amenities_dystopian_pe
		district_giga_voidframe_amenities_dystopian_se
	}

	show_tech_unlock_if = {
		giga_has_frameworld_origin = yes
		is_gestalt = no
		NOT = { has_valid_civic = civic_dystopian_society }
	}
	
	resources = {
		category = planet_districts
		cost = {
			minerals = @advanced_cost
			exotic_gases = @advanced_rare_cost
		}
		upkeep = {
			energy = @advanced_upkeep
			exotic_gases = @advanced_rare_upkeep
		}
	}
	
	planet_modifier = {
		planet_housing_add = 2
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { NOT = { has_valid_civic = civic_warrior_culture } }
		}
		modifier = {
			job_entertainer_add = 4
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_valid_civic = civic_warrior_culture }
		}
		modifier = {
			job_duelist_add = 4
		}
	}
	
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { NOT = { has_valid_civic = civic_warrior_culture } }
		}
		text = job_entertainer_effect_desc
	}
	
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { has_valid_civic = civic_warrior_culture }
		}
		text = job_duelist_effect_desc
	}
}

inline_script = { # worth 48 amenities
	script = "districts/voidframe/advanced/amenities"

	tier = "dm"
	ignore_aot = "yes"

	time = "480"

	acot_normjob = "job_acot_entertainer_add = 4"

	aot_normjob = ""

	cost = "minerals = 1000 sr_dark_matter = 200"
	upkeep = "energy = 4"
}

inline_script = {	#worth 60 amenities
	script = "districts/voidframe/advanced/amenities"

	tier = "de"
	ignore_aot = "yes"

	time = "480"

	acot_normjob = "job_acot_entertainer_add = 5"

	aot_normjob = ""

	cost = "minerals = 1000 sr_dark_matter = 400 acot_sr_dark_energy = 400"
	upkeep = "energy = 6 sr_dark_matter = 2"
}

inline_script = {	#worth 72 amenities
	script = "districts/voidframe/advanced/amenities"

	tier = "pe"
	ignore_aot = "no"

	time = "540"

	acot_normjob = ""

	aot_normjob = "job_phanon_entertainer_add = 4"

	cost = "energy = 2000 minerals = 2000 aot_sr_runic_power = 800"
	upkeep = "energy = 10 aot_sr_runic_power = 10"
}

inline_script = {	#worth 144 amenities
	script = "districts/voidframe/advanced/amenities"

	tier = "se"
	ignore_aot = "no"

	time = "630"

	acot_normjob = ""

	aot_normjob = "job_stellarite_entertainer_add = 4"

	cost = "energy = 4000 minerals = 4000 acot_sr_stellarite = 800"
	upkeep = "energy = 20 acot_sr_stellarite = 10"
}

###############################################################################################################

# dystopian amenities

district_giga_frameworld_amenities_dystopian = {
	base_buildtime = @advanced_time
	icon = district_arcology_leisure
	is_capped_by_modifier = yes

	show_on_uncolonized = {
		exists = from
		from = {
			is_gestalt = no
			has_valid_civic = civic_dystopian_society
			has_technology = tech_colonial_centralization
		}
		uses_district_set = giga_frameworld
		is_voidframe_upgraded = no # shows maximum upgrade level
	}

	potential = {
		exists = owner
		owner = {
			is_gestalt = no
			has_valid_civic = civic_dystopian_society
			has_technology = tech_colonial_centralization
		}
		uses_district_set = giga_frameworld
		is_voidframe_upgraded = no # shows maximum upgrade level
	}

	prerequisites = {
		tech_colonial_centralization
	}

	conversion_ratio = 1.0
	convert_to = {
		district_giga_frameworld_amenities

		district_giga_voidframe_amenities_dm
		district_giga_voidframe_amenities_de
		district_giga_voidframe_amenities_pe
		district_giga_voidframe_amenities_se

		district_giga_frameworld_amenities_gestalt

		district_giga_voidframe_amenities_gestalt_dm
		district_giga_voidframe_amenities_gestalt_de
		district_giga_voidframe_amenities_gestalt_pe
		district_giga_voidframe_amenities_gestalt_se

		district_giga_frameworld_amenities_dystopian

		district_giga_voidframe_amenities_dystopian_dm
		district_giga_voidframe_amenities_dystopian_de
		district_giga_voidframe_amenities_dystopian_pe
		district_giga_voidframe_amenities_dystopian_se
	}

	show_tech_unlock_if = {
		giga_has_frameworld_origin = yes
		is_gestalt = no
		has_valid_civic = civic_dystopian_society
	}

	resources = {
		category = planet_districts
		cost = {
			minerals = @[ advanced_cost * 2 ]
			rare_crystals = @advanced_rare_cost
			exotic_gases = @advanced_rare_cost
		}
		upkeep = {
			energy = @[ advanced_upkeep * 2 ]
			rare_crystals = @advanced_rare_upkeep
			exotic_gases = @advanced_rare_upkeep
		}
	}

	triggered_desc = {
		trigger = { always = yes }
		text = district_giga_frameworld_amenities_dystopian_limit
	}

	planet_modifier = {
		planet_housing_add = 2
		planet_amenities_add = 5
	}

	inline_script = {
		script = "planet/rulers/giga_ruler_part_job_swap"
		jobs = 2
		district = @yes
		condition = "owner = { is_gestalt = no }"
	}

	inline_script = {
		script = planet/maintenance/giga_clerk_job_swap
		jobs = 2
		district = @yes
	}
}

inline_script = {
	script = "districts/voidframe/advanced/amenities_dystopian"

	tier = "dm"
	ignore_aot = "yes"

	time = "480"

	acot_normjob = "job_acot_overseer_add = 2"

	aot_normjob = ""

	cost = "minerals = 1000 sr_dark_matter = 200"
	upkeep = "energy = 4"
}

inline_script = {
	script = "districts/voidframe/advanced/amenities_dystopian"

	tier = "de"
	ignore_aot = "yes"

	time = "480"

	acot_normjob = "job_acot_overseer_add = 3"

	aot_normjob = ""

	cost = "minerals = 1000 sr_dark_matter = 400 acot_sr_dark_energy = 400"
	upkeep = "energy = 6 sr_dark_matter = 2"
}

inline_script = {
	script = "districts/voidframe/advanced/amenities_dystopian"

	tier = "pe"
	ignore_aot = "no"

	time = "540"

	acot_normjob = ""

	aot_normjob = "job_phanon_overseer_add = 2"

	cost = "energy = 2000 minerals = 2000 aot_sr_runic_power = 800"
	upkeep = "energy = 10 aot_sr_runic_power = 10"
}

inline_script = {
	script = "districts/voidframe/advanced/amenities_dystopian"

	tier = "se"
	ignore_aot = "no"

	time = "630"

	acot_normjob = ""

	aot_normjob = "job_stellarite_overseer_add = 2"

	cost = "energy = 4000 minerals = 4000 acot_sr_stellarite = 800"
	upkeep = "energy = 20 acot_sr_stellarite = 10"
}

###############################################################################################################

# gestalt amenities
# megumin was here
district_giga_frameworld_amenities_gestalt = {
	base_buildtime = @advanced_time
	icon = district_arcology_leisure
	is_capped_by_modifier = no
	
	show_on_uncolonized = {
		exists = from
		from = {
			is_gestalt = yes
			has_technology = "tech_unity_of_purpose"
		}
		uses_district_set = giga_frameworld
		is_voidframe_upgraded = no # shows maximum upgrade level
	}
	
	potential = {
		exists = owner
		owner = {
			is_gestalt = yes
			has_technology = "tech_unity_of_purpose"
		}
		uses_district_set = giga_frameworld
		is_voidframe_upgraded = no # shows maximum upgrade level
	}

	allow = {
		hidden_trigger = {
			exists = owner
			or = {
				owner = {
					is_ai = no
				}

				frameworld_needs_more_maintenance_drones = yes
			}
		}
	}

	prerequisites = {
		tech_unity_of_purpose
	}

	conversion_ratio = 1.0
	convert_to = {
		district_giga_frameworld_amenities

		district_giga_voidframe_amenities_dm
		district_giga_voidframe_amenities_de
		district_giga_voidframe_amenities_pe
		district_giga_voidframe_amenities_se

		district_giga_frameworld_amenities_gestalt

		district_giga_voidframe_amenities_gestalt_dm
		district_giga_voidframe_amenities_gestalt_de
		district_giga_voidframe_amenities_gestalt_pe
		district_giga_voidframe_amenities_gestalt_se

		district_giga_frameworld_amenities_dystopian

		district_giga_voidframe_amenities_dystopian_dm
		district_giga_voidframe_amenities_dystopian_de
		district_giga_voidframe_amenities_dystopian_pe
		district_giga_voidframe_amenities_dystopian_se
	}

	show_tech_unlock_if = {
		giga_has_frameworld_origin = yes
		is_gestalt = yes
	}
	
	resources = {
		category = planet_districts
		cost = {
			minerals = @advanced_cost
			rare_crystals = @advanced_rare_cost
		}
		upkeep = {
			energy = @advanced_upkeep
			rare_crystals = @advanced_rare_upkeep
		}
	}
	
	planet_modifier = {
		planet_housing_add = 2
		job_maintenance_drone_add = 8
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_technology = tech_housing_2 }
		}
		modifier = {
			job_maintenance_drone_add = 2
		}
	}

	triggered_planet_modifier = {
		potential = {
			has_planet_flag = frameworld_advanced_city
		}
		modifier = {
			job_frame_maintenance_overseer_add = 2
			job_maintenance_drone_add = -2
		}
	}
	
	triggered_desc = {
		text = job_maintenance_drone_effect_desc
	}

	triggered_desc = {
		trigger = {
			has_deposit = d_frameworld_advanced_nexus
		}
		text = job_frame_maintenance_overseer_effect_desc
	}
}

inline_script = {
	script = "districts/voidframe/advanced/amenities_gestalt"

	tier = "dm"
	ignore_aot = "yes"

	time = "480"

	acot_gestjob = "job_acot_entertainer_drone_add = 2"

	aot_gestjob = ""

	anz_gestjob = "job_anz_voidframe_frame_overseer_drone_dm_add = 2"

	cost = "minerals = 1000 sr_dark_matter = 200"
	upkeep = "energy = 4"
}

inline_script = {
	script = "districts/voidframe/advanced/amenities_gestalt"

	tier = "de"
	ignore_aot = "yes"

	time = "480"

	acot_gestjob = "job_acot_entertainer_drone_add = 4"

	aot_gestjob = ""

	anz_gestjob = "job_anz_voidframe_frame_overseer_drone_de_add = 2"

	cost = "minerals = 1000 sr_dark_matter = 400 acot_sr_dark_energy = 400"
	upkeep = "energy = 6 sr_dark_matter = 2"
}

inline_script = {
	script = "districts/voidframe/advanced/amenities_gestalt"

	tier = "pe"
	ignore_aot = "no"

	time = "540"

	acot_gestjob = ""

	aot_gestjob = "job_phanon_entertainer_drone_add = 2"

	anz_gestjob = "job_anz_voidframe_frame_overseer_drone_pe_add = 2"

	cost = "energy = 2000 minerals = 2000 aot_sr_runic_power = 800"
	upkeep = "energy = 10 aot_sr_runic_power = 10"
}

inline_script = {
	script = "districts/voidframe/advanced/amenities_gestalt"

	tier = "se"
	ignore_aot = "no"

	time = "630"

	acot_gestjob = ""

	aot_gestjob = "job_stellarite_entertainer_drone_add = 2"

	anz_gestjob = "job_anz_voidframe_frame_overseer_drone_se_add = 2"

	cost = "energy = 4000 minerals = 4000 acot_sr_stellarite = 800"
	upkeep = "energy = 20 acot_sr_stellarite = 10"
}

###############################################################################################################
###############################################################################################################
#          REFINERY
###############################################################################################################
###############################################################################################################

district_giga_frameworld_refinery = {
	#copied the new gigas version
	inline_script = {
		script = districts/frameworld/giga_frameworld_refinery
		time = @advanced_time
		cost = @advanced_cost

		fake_motes = @no
		fake_gases = @no
		fake_crystals = @no
	}
	
	show_on_uncolonized = {
		exists = from
		from = {
			OR = {
				has_technology = "tech_volatile_motes"
				has_technology = "tech_exotic_gases"
				has_technology = "tech_rare_crystals"
			}
		}
		uses_district_set = giga_frameworld
		is_voidframe_upgraded = no # shows maximum upgrade level
	}
	
	potential = {
		exists = owner
		owner = {
			OR = {
				has_technology = "tech_volatile_motes"
				has_technology = "tech_exotic_gases"
				has_technology = "tech_rare_crystals"
			}
		}
		uses_district_set = giga_frameworld
		OR = { # downgrade ability
			is_voidframe_upgraded = no
			AND = {
				NOR = {
					has_building = building_acot_dm_transmutor
					has_building = building_acot_ae_transmutor
					has_building = building_phanon_transmutor
					has_building = building_stellarite_transmutor
				}
				is_voidframe_upgraded = yes
			}
		}
	}

	conversion_ratio = 1
	convert_to = {
		district_giga_frameworld_refinery

		district_giga_voidframe_refinery_dm
		district_giga_voidframe_refinery_de
		district_giga_voidframe_refinery_pe
		district_giga_voidframe_refinery_se
	}


	########## AI INFO
	
	ai_resource_production = {
		volatile_motes = 3
		trigger = {
			exists = owner
			owner = { 
				has_technology = "tech_volatile_motes"
			}
		}
	}
	
	ai_resource_production = {
		exotic_gases = 3
		trigger = {
			exists = owner
			owner = { 
				has_technology = "tech_exotic_gases"
			}
		}
	}
	
	ai_resource_production = {
		rare_crystals = 3
		trigger = {
			exists = owner
			owner = { 
				has_technology = "tech_rare_crystals"
			}
		}
	}

	ai_resource_production = {
		ai_unobtainium = 1000
		trigger = {
			frameworld_want_refinery = yes
		}
	}
}

inline_script = {
	script = "districts/voidframe/strategic/vanilla"

	tier = "dm"
	reqtech = "tech_acot_dm_transmutor"
	ignore_aot = "yes"

	pass_condition = "
		has_building = building_acot_dm_transmutor
	"
	fail_condition = "
		has_building = building_acot_ae_transmutor
		has_building = building_phanon_transmutor
		has_building = building_stellarite_transmutor
	"

	time = "480"

	acot_normjob = "job_acot_transmute_man_add = 2"
	acot_gestjob = "job_acot_transmute_drone_add = 2"

	aot_normjob = ""
	aot_gestjob = ""

	nanite_energy_cost = "20"
	nanite_nanite_cost = "5"
	nanite_strat_prod = "3"

	cost = "minerals = 1000 sr_dark_matter = 200"
	upkeep = "energy = 4"
}

inline_script = {
	script = "districts/voidframe/strategic/vanilla"

	tier = "de"
	reqtech = "tech_acot_ae_transmutor"
	ignore_aot = "yes"

	pass_condition = "
		has_building = building_acot_ae_transmutor
	"
	fail_condition = "
		has_building = building_phanon_transmutor
		has_building = building_stellarite_transmutor
	"

	time = "480"

	acot_normjob = "job_acot_transmute_man_add = 4"
	acot_gestjob = "job_acot_transmute_drone_add = 4"

	aot_normjob = ""
	aot_gestjob = ""

	nanite_energy_cost = "30"
	nanite_nanite_cost = "5"
	nanite_strat_prod = "6"

	cost = "minerals = 1000 sr_dark_matter = 400 acot_sr_dark_energy = 400"
	upkeep = "energy = 6 sr_dark_matter = 2"
}

inline_script = {
	script = "districts/voidframe/strategic/vanilla"

	tier = "pe"
	reqtech = "tech_phanon_transmutor"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_phanon_transmutor
	"
	fail_condition = "
		has_building = building_stellarite_transmutor
	"

	time = "540"

	acot_normjob = ""
	acot_gestjob = ""

	aot_normjob = "job_phanon_transmute_man_add = 2"
	aot_gestjob = "job_phanon_transmute_drone_add = 2"

	nanite_energy_cost = "40"
	nanite_nanite_cost = "5"
	nanite_strat_prod = "13"

	cost = "energy = 2000 minerals = 2000 aot_sr_runic_power = 800"
	upkeep = "energy = 10 aot_sr_runic_power = 10"
}

inline_script = {
	script = "districts/voidframe/strategic/vanilla"

	tier = "se"
	reqtech = "tech_stellarite_transmutor"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_stellarite_transmutor
	"
	fail_condition = ""

	time = "630"

	acot_normjob = ""
	acot_gestjob = ""

	aot_normjob = "job_stellarite_transmute_man_add = 2"
	aot_gestjob = "job_stellarite_transmute_drone_add = 2"

	nanite_energy_cost = "50"
	nanite_nanite_cost = "5"
	nanite_strat_prod = "26"

	cost = "energy = 4000 minerals = 4000 acot_sr_stellarite = 800"

	upkeep = "energy = 20 acot_sr_stellarite = 10"
}

###############################################################################################################

district_giga_frameworld_refinery_motes = {
	base_buildtime = @advanced_time
	icon = district_virtual_strat_res
	is_capped_by_modifier = no
	
	show_on_uncolonized = {
		always = no
	}
	
	potential = {
		always = no
	}

	prerequisites = {
		tech_volatile_motes
	}

	show_tech_unlock_if = {
		giga_has_frameworld_origin = yes
	}

	resources = {
		category = planet_districts
		cost = {
			minerals = @advanced_cost
		}
		upkeep = {}
		
		upkeep = {
			energy = 3
		}
		
		upkeep = {
			trigger = {
				exists = owner
				owner = {
					has_technology = "tech_exotic_gases"
				}
			}
			energy = 3
		}
		
		upkeep = {
			trigger = {
				exists = owner
				owner = {
					has_technology = "tech_rare_crystals"
				}
			}
			energy = 3
		}
	}
	
	planet_modifier = {}

	########## ADDITIONAL JOB DESCS

	# line above the descriptions if we are triggering any of them
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				NAND = {
					has_technology = "tech_exotic_gases"
					has_technology = "tech_rare_crystals"
				}
			}
		}
		text = district_giga_frameworld_refinery_unlocks
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = { 
				is_gestalt = no
				not = { has_technology = "tech_exotic_gases" } 
			}
		}
		text = district_giga_frameworld_refinery_gases_unlock
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { 
				is_gestalt = yes
				not = { has_technology = "tech_exotic_gases" } 
			}
		}
		text = district_giga_frameworld_refinery_gases_unlock_gestalt
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = { 
				is_gestalt = no
				not = { has_technology = "tech_rare_crystals" } 
			}
		}
		text = district_giga_frameworld_refinery_crystals_unlock
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { 
				is_gestalt = yes
				not = { has_technology = "tech_rare_crystals" } 
			}
		}
		text = district_giga_frameworld_refinery_crystals_unlock_gestalt
	}

	# blank line under unlocks if we have any
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				NAND = {
					has_technology = "tech_exotic_gases"
					has_technology = "tech_rare_crystals"
				}
			}
		}
		text = district_giga_frameworld_refinery_empty
	}
	
	########## MOTES
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { 
				is_gestalt = no
			}
		}
		modifier = {
			job_chemist_add = 1
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { 
				is_gestalt = yes 
			}
		}
		modifier = {
			job_chemist_drone_add = 1
		}
	}
	
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { 
				is_gestalt = no 
			}
		}
		text = job_chemist_effect_desc
	}
	
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { 
				is_gestalt = yes 
			}
		}
		text = job_chemist_drone_effect_desc
	}
	
	########## GASES
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { 
				is_gestalt = no
				has_technology = "tech_exotic_gases"
			}
		}
		modifier = {
			job_gas_refiner_add = 1
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { 
				is_gestalt = yes 
				has_technology = "tech_exotic_gases"
			}
		}
		modifier = {
			job_gas_refiner_drone_add = 1
		}
	}
	
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { 
				is_gestalt = no 
				has_technology = "tech_exotic_gases"
			}
		}
		text = job_gas_refiner_effect_desc
	}
	
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { 
				is_gestalt = yes 
				has_technology = "tech_exotic_gases"
			}
		}
		text = job_gas_refiner_drone_effect_desc
	}
	
	########## CRYSTALS
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { 
				is_gestalt = no
				has_technology = "tech_rare_crystals"
			}
		}
		modifier = {
			job_translucer_add = 1
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { 
				is_gestalt = yes 
				has_technology = "tech_rare_crystals"
			}
		}
		modifier = {
			job_translucer_drone_add = 1
		}
	}
	
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { 
				is_gestalt = no 
				has_technology = "tech_rare_crystals"
			}
		}
		text = job_translucer_effect_desc
	}
	
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { 
				is_gestalt = yes 
				has_technology = "tech_rare_crystals"
			}
		}
		text = job_translucer_drone_effect_desc
	}
}

###############################################################################################################

district_giga_frameworld_refinery_gases = {
	base_buildtime = @advanced_time
	icon = district_virtual_strat_res
	is_capped_by_modifier = no
	
	show_on_uncolonized = {
		always = no
	}
	
	potential = {
		always = no
	}

	prerequisites = {
		tech_exotic_gases
	}

	show_tech_unlock_if = {
		giga_has_frameworld_origin = yes
	}

	resources = {
		category = planet_districts
		cost = {
			minerals = @advanced_cost
		}
		upkeep = {}
		
		upkeep = {
			trigger = {
				exists = owner
				owner = {
					has_technology = "tech_volatile_motes"
				}
			}
			energy = 3
		}
		
		upkeep = {
			energy = 3
		}
		
		upkeep = {
			trigger = {
				exists = owner
				owner = {
					has_technology = "tech_rare_crystals"
				}
			}
			energy = 3
		}
	}
	
	planet_modifier = {}

	########## ADDITIONAL JOB DESCS

	# line above the descriptions if we are triggering any of them
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				NAND = {
					has_technology = "tech_volatile_motes"
					has_technology = "tech_rare_crystals"
				}
			}
		}
		text = district_giga_frameworld_refinery_unlocks
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = { 
				is_gestalt = no
				not = { has_technology = "tech_volatile_motes" } 
			}
		}
		text = district_giga_frameworld_refinery_motes_unlock
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { 
				is_gestalt = yes
				not = { has_technology = "tech_volatile_motes" } 
			}
		}
		text = district_giga_frameworld_refinery_motes_unlock_gestalt
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = { 
				is_gestalt = no
				not = { has_technology = "tech_rare_crystals" } 
			}
		}
		text = district_giga_frameworld_refinery_crystals_unlock
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { 
				is_gestalt = yes
				not = { has_technology = "tech_rare_crystals" } 
			}
		}
		text = district_giga_frameworld_refinery_crystals_unlock_gestalt
	}

	# blank line under unlocks if we have any
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				NAND = {
					has_technology = "tech_volatile_motes"
					has_technology = "tech_rare_crystals"
				}
			}
		}
		text = district_giga_frameworld_refinery_empty
	}
	
	########## MOTES
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { 
				is_gestalt = no
				has_technology = "tech_volatile_motes"
			}
		}
		modifier = {
			job_chemist_add = 1
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { 
				is_gestalt = yes 
				has_technology = "tech_volatile_motes"
			}
		}
		modifier = {
			job_chemist_drone_add = 1
		}
	}
	
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { 
				is_gestalt = no 
				has_technology = "tech_volatile_motes"
			}
		}
		text = job_chemist_effect_desc
	}
	
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { 
				is_gestalt = yes 
				has_technology = "tech_volatile_motes"
			}
		}
		text = job_chemist_drone_effect_desc
	}
	
	########## GASES
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { 
				is_gestalt = no
			}
		}
		modifier = {
			job_gas_refiner_add = 1
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { 
				is_gestalt = yes 
			}
		}
		modifier = {
			job_gas_refiner_drone_add = 1
		}
	}
	
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { 
				is_gestalt = no 
			}
		}
		text = job_gas_refiner_effect_desc
	}
	
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { 
				is_gestalt = yes 
			}
		}
		text = job_gas_refiner_drone_effect_desc
	}
	
	########## CRYSTALS
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { 
				is_gestalt = no
				has_technology = "tech_rare_crystals"
			}
		}
		modifier = {
			job_translucer_add = 1
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { 
				is_gestalt = yes 
				has_technology = "tech_rare_crystals"
			}
		}
		modifier = {
			job_translucer_drone_add = 1
		}
	}
	
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { 
				is_gestalt = no 
				has_technology = "tech_rare_crystals"
			}
		}
		text = job_translucer_effect_desc
	}
	
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { 
				is_gestalt = yes 
				has_technology = "tech_rare_crystals"
			}
		}
		text = job_translucer_drone_effect_desc
	}
}

###############################################################################################################

district_giga_frameworld_refinery_crystals = {
	base_buildtime = @advanced_time
	icon = district_virtual_strat_res
	is_capped_by_modifier = no
	
	show_on_uncolonized = {
		always = no
	}
	
	potential = {
		always = no
	}

	prerequisites = {
		tech_rare_crystals
	}

	show_tech_unlock_if = {
		giga_has_frameworld_origin = yes
	}

	resources = {
		category = planet_districts
		cost = {
			minerals = @advanced_cost
		}
		upkeep = {}
		
		upkeep = {
			trigger = {
				exists = owner
				owner = {
					has_technology = "tech_volatile_motes"
				}
			}
			energy = 3
		}
		
		upkeep = {
			trigger = {
				exists = owner
				owner = {
					has_technology = "tech_exotic_gases"
				}
			}
			energy = 3
		}
		
		upkeep = {
			energy = 3
		}
	}
	
	planet_modifier = {}

	########## ADDITIONAL JOB DESCS

	# line above the descriptions if we are triggering any of them
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				NAND = {
					has_technology = "tech_volatile_motes"
					has_technology = "tech_exotic_gases"
				}
			}
		}
		text = district_giga_frameworld_refinery_unlocks
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = { 
				is_gestalt = no
				not = { has_technology = "tech_volatile_motes" } 
			}
		}
		text = district_giga_frameworld_refinery_motes_unlock
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { 
				is_gestalt = yes
				not = { has_technology = "tech_volatile_motes" } 
			}
		}
		text = district_giga_frameworld_refinery_motes_unlock_gestalt
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = { 
				is_gestalt = no
				not = { has_technology = "tech_exotic_gases" } 
			}
		}
		text = district_giga_frameworld_refinery_gases_unlock
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { 
				is_gestalt = yes
				not = { has_technology = "tech_exotic_gases" } 
			}
		}
		text = district_giga_frameworld_refinery_gases_unlock_gestalt
	}

	# blank line under unlocks if we have any
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				NAND = {
					has_technology = "tech_volatile_motes"
					has_technology = "tech_exotic_gases"
				}
			}
		}
		text = district_giga_frameworld_refinery_empty
	}
	
	########## MOTES
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { 
				is_gestalt = no
				has_technology = "tech_volatile_motes"
			}
		}
		modifier = {
			job_chemist_add = 1
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { 
				is_gestalt = yes 
				has_technology = "tech_volatile_motes"
			}
		}
		modifier = {
			job_chemist_drone_add = 1
		}
	}
	
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { 
				is_gestalt = no 
				has_technology = "tech_volatile_motes"
			}
		}
		text = job_chemist_effect_desc
	}
	
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { 
				is_gestalt = yes 
				has_technology = "tech_volatile_motes"
			}
		}
		text = job_chemist_drone_effect_desc
	}
	
	########## GASES
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { 
				is_gestalt = no
				has_technology = "tech_exotic_gases"
			}
		}
		modifier = {
			job_gas_refiner_add = 1
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { 
				is_gestalt = yes 
				has_technology = "tech_exotic_gases"
			}
		}
		modifier = {
			job_gas_refiner_drone_add = 1
		}
	}
	
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { 
				is_gestalt = no 
				has_technology = "tech_exotic_gases"
			}
		}
		text = job_gas_refiner_effect_desc
	}
	
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { 
				is_gestalt = yes 
				has_technology = "tech_exotic_gases"
			}
		}
		text = job_gas_refiner_drone_effect_desc
	}
	
	########## CRYSTALS
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { 
				is_gestalt = no
			}
		}
		modifier = {
			job_translucer_add = 1
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { 
				is_gestalt = yes 
			}
		}
		modifier = {
			job_translucer_drone_add = 1
		}
	}
	
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { 
				is_gestalt = no 
			}
		}
		text = job_translucer_effect_desc
	}
	
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { 
				is_gestalt = yes 
			}
		}
		text = job_translucer_drone_effect_desc
	}
}

###############################################################################################################
###############################################################################################################
#          EHOF RESOURCES
###############################################################################################################
###############################################################################################################

district_giga_frameworld_sentient_metal = {
	base_buildtime = @advanced_time
	icon = district_giga_sentient_metal
	is_capped_by_modifier = no
	
	prerequisites = {
		tech_ehof_sentient_tier_3
	}

	show_tech_unlock_if = {
		giga_has_frameworld_origin = yes
	}
	
	show_on_uncolonized = {
		exists = from
		from = {
			has_technology = tech_ehof_sentient_tier_3
		}
		uses_district_set = giga_frameworld
	}
	
	potential = {
		exists = owner
		owner = {
			has_technology = tech_ehof_sentient_tier_3
		}
		uses_district_set = giga_frameworld
	}
	
	resources = {
		category = planet_districts
		cost = {
			minerals = @b4_minerals
		}
		upkeep = {
			energy = @b4_upkeep
		}
	}
	
	planet_modifier = {
		planet_housing_add = 2
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_gestalt = no
			}
		}
		modifier = {
			job_ehof_cultivator_add = @b2_jobs
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_gestalt = yes
			}
		}
		modifier = {
			job_ehof_cultivation_drone_add = @b2_jobs
		}
	}
	
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_gestalt = no
			}
		}
		text = job_ehof_cultivator_effect_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_gestalt = yes
			}
		}
		text = job_ehof_cultivation_drone_effect_desc
	}
	
	ai_resource_production = {
		ehof_sr_sentient_metal = 8
		trigger = {
			always = yes
		}
	}
}

###############################################################################################################

district_giga_frameworld_negative_mass = {
	base_buildtime = @advanced_time
	icon = district_giga_negative_mass
	is_capped_by_modifier = no
	
	prerequisites = {
		tech_nm_utilization_2
	}

	show_tech_unlock_if = {
		giga_has_frameworld_origin = yes
	}
	
	show_on_uncolonized = {
		exists = from
		from = {
			has_technology = tech_nm_utilization_2
		}
		uses_district_set = giga_frameworld
	}
	
	potential = {
		exists = owner
		owner = {
			has_technology = tech_nm_utilization_2
		}
		uses_district_set = giga_frameworld
	}
	
	resources = {
		category = planet_districts
		cost = {
			minerals = @b4_minerals
			exotic_gases = @b3_rare_cost
			rare_crystals = @b3_rare_cost
		}
		upkeep = {
			energy = @b3_upkeep
		}
	}
	
	planet_modifier = {
		planet_housing_add = 2
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_gestalt = no
			}
		}
		modifier = {
			job_ehof_energy_converter_add = @b2_jobs
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_gestalt = yes
			}
		}
		modifier = {
			job_ehof_energy_converter_drone_add = @b2_jobs
		}
	}
	
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_gestalt = no
			}
		}
		text = job_ehof_energy_converter_effect_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_gestalt = yes
			}
		}
		text = job_ehof_energy_converter_drone_effect_desc
	}
	
	ai_resource_production = {
		ehof_sr_negative_mass = 4
		trigger = {
			always = yes
		}
	}
}

###############################################################################################################
###############################################################################################################
#          MEGA BUILD
###############################################################################################################
###############################################################################################################

district_giga_frameworld_supertensiles = {
	base_buildtime = @b2_time
	icon = district_giga_supertensiles
	is_capped_by_modifier = no
	
	prerequisites = {
		giga_tech_amb_supertensiles
	}

	show_tech_unlock_if = {
		giga_has_frameworld_origin = yes
	}
	
	show_on_uncolonized = {
		has_global_flag = @giga_amb_flag
		exists = from
		from = {
			has_technology = giga_tech_amb_supertensiles
		}
		uses_district_set = giga_frameworld
		is_voidframe_upgraded = no # shows maximum upgrade level
	}
	
	potential = {
		has_global_flag = @giga_amb_flag
		exists = owner
		owner = {
			has_technology = giga_tech_amb_supertensiles
		}
		uses_district_set = giga_frameworld
		OR = { # downgrade ability
			is_voidframe_upgraded = no
			AND = {
				NOR = {
					has_building = building_giga_megaworkshop_acot_delta
					has_building = building_giga_megaworkshop_acot_alpha
					has_building = building_giga_megaworkshop_acot_phanon
					has_building = building_giga_megaworkshop_acot_sigma
				}
				is_voidframe_upgraded = yes
			}
		}
	}
	
	resources = {
		category = planet_districts_industrial
		cost = {
			minerals = @b2_minerals
		}
		upkeep = {
			energy = @b2_upkeep
		}
	}

	conversion_ratio = 1
	convert_to = {
		district_giga_frameworld_supertensiles

		district_giga_voidframe_supertensiles_dm
		district_giga_voidframe_supertensiles_de
		district_giga_voidframe_supertensiles_pe
		district_giga_voidframe_supertensiles_se
	}
	
	planet_modifier = {
		planet_housing_add = 2
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_gestalt = no
				is_fallen_empire_spiritualist = no
			}
		}
		modifier = {
			job_giga_megaengineer_add = 2
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_gestalt = yes
			}
		}
		modifier = {
			job_giga_megaengineer_drone_add = 2
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_fallen_empire_spiritualist = yes
			}
		}
		modifier = {
			job_giga_amb_fe_acolyte_foundry_add = 2
		}
	}
	
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_gestalt = no
				is_fallen_empire_spiritualist = no
			}
		}
		text = job_giga_megaengineer_effect_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_gestalt = yes
			}
		}
		text = job_giga_megaengineer_drone_effect_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_fallen_empire_spiritualist = yes
			}
		}
		text = job_giga_amb_fe_acolyte_foundry_effect_desc
	}
	
	ai_resource_production = {
		giga_sr_amb_megaconstruction = 2
		trigger = {
			always = yes
		}
	}
}

inline_script = {
	script = "districts/voidframe/empire/supertensiles"

	tier = "dm"
	reqtech = "giga_tech_amb_supertensiles_acot_delta"
	ignore_aot = "yes"

	pass_condition = "
		has_building = building_giga_megaworkshop_acot_delta
	"
	fail_condition = "
		has_building = building_giga_megaworkshop_acot_alpha
		has_building = building_giga_megaworkshop_acot_phanon
		has_building = building_giga_megaworkshop_acot_sigma
	"

	time = "480"

	acot_normjob = "job_giga_megaengineer_acot_delta_add = 2"
	acot_gestjob = "job_giga_megaengineer_drone_acot_delta_add = 2"

	aot_normjob = ""
	aot_gestjob = ""

	cost = "minerals = 1000 sr_dark_matter = 200"
	upkeep = "energy = 4"
}

inline_script = {
	script = "districts/voidframe/empire/supertensiles"

	tier = "de"
	reqtech = "giga_tech_amb_supertensiles_acot_alpha"
	ignore_aot = "yes"

	pass_condition = "
		has_building = building_giga_megaworkshop_acot_alpha
	"
	fail_condition = "
		has_building = building_giga_megaworkshop_acot_phanon
		has_building = building_giga_megaworkshop_acot_sigma
	"

	time = "480"

	acot_normjob = "job_giga_megaengineer_acot_alpha_add = 2"
	acot_gestjob = "job_giga_megaengineer_drone_acot_alpha_add = 2"

	aot_normjob = ""
	aot_gestjob = ""

	cost = "minerals = 1000 sr_dark_matter = 400 acot_sr_dark_energy = 400"
	upkeep = "energy = 6 sr_dark_matter = 2"
}

inline_script = {
	script = "districts/voidframe/empire/supertensiles"

	tier = "pe"
	reqtech = "giga_tech_amb_supertensiles_acot_phanon"
	ignore_aot = "yes"

	pass_condition = "
		has_building = building_giga_megaworkshop_acot_phanon
	"
	fail_condition = "
		has_building = building_giga_megaworkshop_acot_sigma
	"

	time = "540"

	acot_normjob = "job_giga_megaengineer_acot_phanon_add = 2"
	acot_gestjob = "job_giga_megaengineer_drone_acot_phanon_add = 2"

	aot_normjob = ""
	aot_gestjob = ""

	cost = "energy = 2000 minerals = 2000 aot_sr_runic_power = 800"
	upkeep = "energy = 10 aot_sr_runic_power = 10"
}

inline_script = {
	script = "districts/voidframe/empire/supertensiles"

	tier = "se"
	reqtech = "giga_tech_amb_supertensiles_acot_sigma"
	ignore_aot = "yes"

	pass_condition = "
		has_building = building_giga_megaworkshop_acot_sigma
	"
	fail_condition = ""

	time = "630"

	acot_normjob = "job_giga_megaengineer_acot_sigma_add = 2"
	acot_gestjob = "job_giga_megaengineer_drone_acot_sigma_add = 2"

	aot_normjob = ""
	aot_gestjob = ""

	cost = "energy = 4000 minerals = 4000 acot_sr_stellarite = 800"

	upkeep = "energy = 20 acot_sr_stellarite = 10"
}

###############################################################################################################
###############################################################################################################
#          MILITARY
###############################################################################################################
###############################################################################################################

# fortress

district_giga_frameworld_fortress = {
	base_buildtime = @advanced_time
	icon = district_maginot_world_bunkers
	is_capped_by_modifier = no
	
	show_on_uncolonized = {
		exists = from
		from = {
			has_technology = "tech_global_defense_grid"
		}
		uses_district_set = giga_frameworld
		is_voidframe_upgraded = no # shows maximum upgrade level
	}
	
	potential = {
		exists = owner
		owner = {
			has_technology = "tech_global_defense_grid"
		}
		uses_district_set = giga_frameworld
		OR = { # downgrade ability
			is_voidframe_upgraded = no
			AND = {
				NOR = {
					has_building = building_acot_dm_stronghold
					has_building = building_acot_ae_stronghold
					has_building = building_phanon_stronghold
					has_building = building_stellarite_stronghold
				}
				is_voidframe_upgraded = yes
			}
		}
	}

	prerequisites = {
		tech_global_defense_grid
	}

	show_tech_unlock_if = {
		giga_has_frameworld_origin = yes
	}
	
	conversion_ratio = 1
	convert_to = {
		district_giga_frameworld_science

		district_giga_voidframe_fort_dm
		district_giga_voidframe_fort_de
		district_giga_voidframe_fort_pe
		district_giga_voidframe_fort_se
	}

	resources = {
		category = planet_districts
		produces = {
			trigger = {
				exists = owner
				owner = {
					has_active_tradition = tr_unyielding_resistance_is_frugal
				}
			}
			unity = 3
		}
		cost = {
			minerals = @advanced_cost
			volatile_motes = @advanced_rare_cost
		}
		upkeep = {
			energy = @advanced_upkeep
			volatile_motes = @advanced_rare_upkeep
		}
	}
	
	planet_modifier = {
		planet_housing_add = 2
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = no }
		}
		modifier = {
			job_soldier_add = 4
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		modifier = {
			job_warrior_drone_add = 4
		}
	}
	
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { is_gestalt = no }
		}
		text = job_soldier_effect_desc
	}
	
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		text = job_warrior_drone_effect_desc
	}

	triggered_desc = {
		trigger = { 
			exists = owner 
			is_giga_maginot_frameworld = yes
		}
		text = job_maginot_planetary_bunker_effect_desc
	}

	ai_resource_production = {
		ai_unobtainium = 1000
		trigger = {
			frameworld_want_fortress = yes
		}
	}
}

inline_script = {
	script = "districts/voidframe/advanced/fortress"

	tier = "dm"
	reqtech = "tech_acot_dm_stronghold"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_acot_dm_stronghold
	"
	fail_condition = "
		has_building = building_acot_ae_stronghold
		has_building = building_phanon_stronghold
		has_building = building_stellarite_stronghold	
	"

	time = "480"
	
	acot_normjob = "job_acot_soldier_add = 2"
	acot_gestjob = "job_acot_soldier_drone_add = 2"

	aot_normjob = "job_aot_dm_soldier_add = 2"
	aot_gestjob = "job_aot_dm_soldier_drone_add = 2"

	cost = "minerals = 1000 sr_dark_matter = 200"
	upkeep = "energy = 4"
}

inline_script = {
	script = "districts/voidframe/advanced/fortress"

	tier = "de"
	reqtech = "tech_acot_ae_stronghold"
	ignore_aot = "yes"

	pass_condition = "
		has_building = building_acot_ae_stronghold
	"
	fail_condition = "
		has_building = building_phanon_stronghold
		has_building = building_stellarite_stronghold	
	"

	time = "480"
	
	acot_normjob = "job_acot_soldier_add = 4"
	acot_gestjob = "job_acot_soldier_drone_add = 4"

	aot_normjob = ""
	aot_gestjob = ""

	cost = "minerals = 1000 sr_dark_matter = 400 acot_sr_dark_energy = 400"
	upkeep = "energy = 6 sr_dark_matter = 2"
}

inline_script = {
	script = "districts/voidframe/advanced/fortress"

	tier = "pe"
	reqtech = "tech_phanon_stronghold"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_phanon_stronghold
	"
	fail_condition = "
		has_building = building_stellarite_stronghold	
	"

	time = "540"

	acot_normjob = ""
	acot_gestjob = ""

	aot_normjob = "job_phanon_soldier_add = 2"
	aot_gestjob = "job_phanon_soldier_drone_add = 2"

	cost = "energy = 2000 minerals = 2000 aot_sr_runic_power = 800"
	upkeep = "energy = 10 aot_sr_runic_power = 10"
}

inline_script = {
	script = "districts/voidframe/advanced/fortress"

	tier = "se"
	reqtech = "tech_stellarite_stronghold"
	ignore_aot = "no"

	pass_condition = "
		has_building = building_stellarite_stronghold
	"
	fail_condition = ""

	time = "630"
	
	acot_normjob = ""
	acot_gestjob = ""

	aot_normjob = "job_stellarite_soldier_add = 2"
	aot_gestjob = "job_stellarite_soldier_drone_add = 2"

	cost = "energy = 4000 minerals = 4000 acot_sr_stellarite = 800"
	upkeep = "energy = 20 acot_sr_stellarite = 10"
}

###############################################################################################################

# maginot shield district

district_giga_frameworld_maginot_shield_generators = {
	base_buildtime = @mega_time
	icon = district_maginot_world_shield_generators
	
	show_on_uncolonized = {
		has_planet_flag = frameworld_maginot
		uses_district_set = giga_frameworld
		is_voidframe_upgraded = no # shows maximum upgrade level
	}
	
	potential = {
		has_planet_flag = frameworld_maginot
		uses_district_set = giga_frameworld
		OR = { # downgrade ability
			is_voidframe_upgraded = no
			AND = {
				NOR = {
					has_building = building_giga_fortress_dm
					has_building = building_acot_giga_fortress
					has_building = building_acot_giga_fortress_array
					has_building = building_acot_giga_fortress_lab
					has_building = building_acot_giga_fortress_obelisk
					has_building = building_phanon_giga_fortress_array
					has_building = building_phanon_giga_fortress_lab
					has_building = building_phanon_giga_fortress_obelisk
					has_building = building_stellarite_giga_fortress_array
					has_building = building_stellarite_giga_fortress_lab
					has_building = building_stellarite_giga_fortress_obelisk
				}
				is_voidframe_upgraded = yes
			}
		}
	}
	
	conversion_ratio = 1
	convert_to = {
		district_giga_frameworld_maginot_shield_generators

		district_giga_voidframe_maginot_shield_generators_dm
		district_giga_voidframe_maginot_shield_generators_de
		district_giga_voidframe_maginot_shield_generators_pe
		district_giga_voidframe_maginot_shield_generators_se
	}

	resources = {
		category = planet_districts
		cost = {
			minerals = @maginot_district_cost_minerals
			alloys = @maginot_district_cost_alloys_medium
			exotic_gases = @maginot_district_cost_sr
		}
		upkeep = {
			energy = @maginot_district_upkeep_energy_shields
			exotic_gases = @maginot_district_upkeep_sr
		}
	}	

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = no }
		}
		modifier = {
			job_maginot_shield_generator_operator_add = @maginot_special_jobs_add
		}
	}	
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		modifier = {
			job_maginot_shield_generator_operator_gestalt_add = @maginot_special_jobs_add
		}
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_gestalt = no
			}
		}
		text = job_maginot_shield_generator_operator_effect_desc
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		text = job_maginot_shield_generator_operator_gestalt_effect_desc
	}

	triggered_desc = {
		trigger = { exists = owner }
		text = job_maginot_planetary_shield_effect_desc
	}

	planet_modifier = {
		planet_orbital_bombardment_damage = -0.20 # yes these are spammable to 100% and beyond, intentional
		# stuff on the planet is protected by shields from damage
		army_collateral_damage_mult = -1.00
	}

	triggered_desc = {
		text = district_giga_frameworld_maginot_shield_generators_cap
	}

	#on_queued = { giga_frameworld_start_maginot_shield = yes }
	#on_unqueued = { giga_frameworld_stop_maginot_shield = yes }
	#on_built = { giga_frameworld_stop_maginot_shield = yes }
	#on_destroy = { giga_frameworld_update_maginot_deposits = yes }
}

inline_script = {
	script = "districts/voidframe/advanced/maginot_shield"

	tier = "dm"

	tech_has_aot = "has_technology = tech_giga_fortress_dm"
	tech_no_aot = "has_technology = tech_acot_giga_fortress"

	pass_condition_aot = "
		has_building = building_giga_fortress_dm
	"
	fail_condition_aot = "
		has_building = building_acot_giga_fortress
		has_building = building_acot_giga_fortress_array
		has_building = building_acot_giga_fortress_lab
		has_building = building_acot_giga_fortress_obelisk
		has_building = building_phanon_giga_fortress_array
		has_building = building_phanon_giga_fortress_lab
		has_building = building_phanon_giga_fortress_obelisk
		has_building = building_stellarite_giga_fortress_array
		has_building = building_stellarite_giga_fortress_lab
		has_building = building_stellarite_giga_fortress_obelisk
	"

	pass_condition_acot = "
		has_building = building_acot_giga_fortress
	"
	fail_condition_acot = "
		has_building = building_acot_giga_fortress_array
		has_building = building_acot_giga_fortress_lab
		has_building = building_acot_giga_fortress_obelisk
	"

	##since we are just duping the og maginot jobs, i am just doubling the fortress upkeep
	cost = "minerals = 1000 sr_dark_matter = 200"
	upkeep = "energy = 8"
				
	time = "960"
	num_jobs = "2"	

	planet_bomb_mod = "-0.25"
	collat_dmg_mod = "-1.25"
}

inline_script = {
	script = "districts/voidframe/advanced/maginot_shield"

	tier = "de"

	tech_has_aot = "has_technology = tech_acot_giga_fortress"
	tech_no_aot = "has_technology = tech_acot_giga_fortress"

	pass_condition_aot = "
		has_building = building_acot_giga_fortress
		has_building = building_acot_giga_fortress_array
		has_building = building_acot_giga_fortress_lab
		has_building = building_acot_giga_fortress_obelisk
	"
	fail_condition_aot = "
		has_building = building_phanon_giga_fortress_array
		has_building = building_phanon_giga_fortress_lab
		has_building = building_phanon_giga_fortress_obelisk
		has_building = building_stellarite_giga_fortress_array
		has_building = building_stellarite_giga_fortress_lab
		has_building = building_stellarite_giga_fortress_obelisk
	"

	pass_condition_acot = "
		has_building = building_acot_giga_fortress_array
		has_building = building_acot_giga_fortress_lab
		has_building = building_acot_giga_fortress_obelisk
	"
	fail_condition_acot = ""

	cost = "minerals = 1000 sr_dark_matter = 400 acot_sr_dark_energy = 400"
	upkeep = "energy = 12 sr_dark_matter = 4"
				
	time = "960"
	num_jobs = "2"	

	planet_bomb_mod = "-0.30"
	collat_dmg_mod = "-1.50"
}

inline_script = {
	script = "districts/voidframe/advanced/maginot_shield"

	tier = "pe"

	tech_has_aot = "has_technology = tech_phanon_giga_fortress"
	tech_no_aot = ""

	pass_condition_aot = "
		has_building = building_phanon_giga_fortress_array
		has_building = building_phanon_giga_fortress_lab
		has_building = building_phanon_giga_fortress_obelisk
	"
	fail_condition_aot = "
		has_building = building_stellarite_giga_fortress_array
		has_building = building_stellarite_giga_fortress_lab
		has_building = building_stellarite_giga_fortress_obelisk
	"

	pass_condition_acot = ""
	fail_condition_acot = ""

	cost = "energy = 2000 minerals = 2000 aot_sr_runic_power = 800"
	upkeep = "energy = 20 aot_sr_runic_power = 20"
				
	time = "960"
	num_jobs = "3"
	
	planet_bomb_mod = "-0.35"
	collat_dmg_mod = "-1.75"
}

inline_script = {
	script = "districts/voidframe/advanced/maginot_shield"

	tier = "se"

	tech_has_aot = "has_technology = tech_stellarite_giga_fortress"
	tech_no_aot = ""

	pass_condition_aot = "
		has_building = building_stellarite_giga_fortress_array
		has_building = building_stellarite_giga_fortress_lab
		has_building = building_stellarite_giga_fortress_obelisk
	"
	fail_condition_aot = ""

	pass_condition_acot = ""
	fail_condition_acot = ""

	cost = "energy = 4000 minerals = 4000 acot_sr_stellarite = 800"
	upkeep = "energy = 40 acot_sr_stellarite = 20"
				
	time = "960"
	num_jobs = "3"	

	planet_bomb_mod = "-0.40"
	collat_dmg_mod = "-2.00"
}

###############################################################################################################

# maginot gun district

district_giga_frameworld_maginot_planetary_cannons = {
	base_buildtime = @mega_time
	icon = district_maginot_world_planetary_cannons
	
	show_on_uncolonized = {
		has_planet_flag = frameworld_maginot
		uses_district_set = giga_frameworld
		is_voidframe_upgraded = no # shows maximum upgrade level
	}
	
	potential = {
		has_planet_flag = frameworld_maginot
		uses_district_set = giga_frameworld
		OR = { # downgrade ability
			is_voidframe_upgraded = no
			AND = {
				NOR = {
					has_building = building_giga_fortress_dm
					has_building = building_acot_giga_fortress
					has_building = building_acot_giga_fortress_array
					has_building = building_acot_giga_fortress_lab
					has_building = building_acot_giga_fortress_obelisk
					has_building = building_phanon_giga_fortress_array
					has_building = building_phanon_giga_fortress_lab
					has_building = building_phanon_giga_fortress_obelisk
					has_building = building_stellarite_giga_fortress_array
					has_building = building_stellarite_giga_fortress_lab
					has_building = building_stellarite_giga_fortress_obelisk
				}
				is_voidframe_upgraded = yes
			}
		}
	}

	conversion_ratio = 1
	convert_to = {
		district_giga_frameworld_maginot_planetary_cannons

		district_giga_voidframe_maginot_planetary_cannons_dm
		district_giga_voidframe_maginot_planetary_cannons_de
		district_giga_voidframe_maginot_planetary_cannons_pe
		district_giga_voidframe_maginot_planetary_cannons_se
	}
	
	resources = {
		category = planet_districts
		cost = {
			minerals = @maginot_district_cost_minerals
			alloys = @maginot_district_cost_alloys_expensive
		}
		upkeep = {
			energy = @maginot_district_upkeep_energy_medium
			alloys = @maginot_district_upkeep_alloys
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = no }					
		}
		modifier = {
			job_maginot_planetary_cannon_operator_add = @maginot_special_jobs_add
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = yes }					
		}
		modifier = {
			job_maginot_planetary_cannon_operator_gestalt_add = @maginot_special_jobs_add
		}
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_gestalt = no
			}
		}
		text = job_maginot_planetary_cannon_operator_effect_desc
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		text = job_maginot_planetary_cannon_operator_gestalt_effect_desc
	}

	triggered_desc = {
		trigger = { exists = owner }
		text = job_maginot_planetary_artillery_effect_desc
	}

	triggered_desc = {
		text = district_giga_frameworld_maginot_planetary_cannons_cap
	}

	#on_queued = { giga_frameworld_start_maginot_gun = yes }
	#on_unqueued = {	giga_frameworld_stop_maginot_gun = yes }
	#on_built = { giga_frameworld_stop_maginot_gun = yes }
	#on_destroy = { giga_frameworld_update_maginot_deposits = yes }
}

inline_script = {
	script = "districts/voidframe/advanced/maginot_cannon"

	tier = "dm"

	tech_has_aot = "has_technology = tech_giga_fortress_dm"
	tech_no_aot = "has_technology = tech_acot_giga_fortress"

	pass_condition_aot = "
		has_building = building_giga_fortress_dm
	"
	fail_condition_aot = "
		has_building = building_acot_giga_fortress
		has_building = building_acot_giga_fortress_array
		has_building = building_acot_giga_fortress_lab
		has_building = building_acot_giga_fortress_obelisk
		has_building = building_phanon_giga_fortress_array
		has_building = building_phanon_giga_fortress_lab
		has_building = building_phanon_giga_fortress_obelisk
		has_building = building_stellarite_giga_fortress_array
		has_building = building_stellarite_giga_fortress_lab
		has_building = building_stellarite_giga_fortress_obelisk
	"

	pass_condition_acot = "
		has_building = building_acot_giga_fortress
	"
	fail_condition_acot = "
		has_building = building_acot_giga_fortress_array
		has_building = building_acot_giga_fortress_lab
		has_building = building_acot_giga_fortress_obelisk
	"
	##since we are just duping the og maginot jobs, i am just doubling the fortress upkeep
	cost = "minerals = 1000 sr_dark_matter = 200"
	upkeep = "energy = 8"
				
	time = "960"
	num_jobs = "2"	
}

inline_script = {
	script = "districts/voidframe/advanced/maginot_cannon"

	tier = "de"

	tech_has_aot = "has_technology = tech_acot_giga_fortress"
	tech_no_aot = "has_technology = tech_acot_giga_fortress"

	pass_condition_aot = "
		has_building = building_acot_giga_fortress
		has_building = building_acot_giga_fortress_array
		has_building = building_acot_giga_fortress_lab
		has_building = building_acot_giga_fortress_obelisk
	"
	fail_condition_aot = "
		has_building = building_phanon_giga_fortress_array
		has_building = building_phanon_giga_fortress_lab
		has_building = building_phanon_giga_fortress_obelisk
		has_building = building_stellarite_giga_fortress_array
		has_building = building_stellarite_giga_fortress_lab
		has_building = building_stellarite_giga_fortress_obelisk
	"

	pass_condition_acot = "
		has_building = building_acot_giga_fortress_array
		has_building = building_acot_giga_fortress_lab
		has_building = building_acot_giga_fortress_obelisk
	"
	fail_condition_acot = ""

	cost = "minerals = 1000 sr_dark_matter = 400 acot_sr_dark_energy = 400"
	upkeep = "energy = 12 sr_dark_matter = 4"
				
	time = "960"
	num_jobs = "2"	
}

inline_script = {
	script = "districts/voidframe/advanced/maginot_cannon"

	tier = "pe"

	tech_has_aot = "has_technology = tech_phanon_giga_fortress"
	tech_no_aot = ""

	pass_condition_aot = "
		has_building = building_phanon_giga_fortress_array
		has_building = building_phanon_giga_fortress_lab
		has_building = building_phanon_giga_fortress_obelisk
	"
	fail_condition_aot = "
		has_building = building_stellarite_giga_fortress_array
		has_building = building_stellarite_giga_fortress_lab
		has_building = building_stellarite_giga_fortress_obelisk
	"

	pass_condition_acot = ""
	fail_condition_acot = ""

	cost = "energy = 2000 minerals = 2000 aot_sr_runic_power = 800"
	upkeep = "energy = 20 aot_sr_runic_power = 20"
				
	time = "960"
	num_jobs = "3"
}

inline_script = {
	script = "districts/voidframe/advanced/maginot_cannon"

	tier = "se"

	tech_has_aot = "has_technology = tech_stellarite_giga_fortress"
	tech_no_aot = ""

	pass_condition_aot = "
		has_building = building_stellarite_giga_fortress_array
		has_building = building_stellarite_giga_fortress_lab
		has_building = building_stellarite_giga_fortress_obelisk
	"
	fail_condition_aot = ""

	pass_condition_acot = ""
	fail_condition_acot = ""

	cost = "energy = 4000 minerals = 4000 acot_sr_stellarite = 800"
	upkeep = "energy = 40 acot_sr_stellarite = 20"
				
	time = "960"
	num_jobs = "3"	
}