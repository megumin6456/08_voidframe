
anz_voidframe_admin_dm = {
    category = specialist
    swappable_data = {
        default = {
            condition_string = SPECIALIST_JOB_TRIGGER
            building_icon = building_acot_dm_mansion
            icon = anz_voidframe_admin_drone_dm
        }
    }

    possible_pre_triggers = {
        has_owner = yes
        is_being_purged = no
        is_being_assimilated = no
        is_sapient = yes
    }

    possible_precalc = can_fill_specialist_job

    resources = {
        # from aot
        category = planet_administrators
        produces = {
            unity = 15
        }
        ##Government Swaps
        produces = {
            trigger = {
                bureaucrat_is_manager = yes
            }
            trade = 2
        }
        produces = {
            trigger = {
                bureaucrat_is_steward = yes
            }
            trade = 1
        }
        produces = {
            trigger = {
                bureaucrat_is_preacher = yes
            }
            unity = -1
            trade = 2
        }
        produces = {
            trigger = {
                bureaucrat_is_death_priest = yes
            }
            unity = -1
            society_research = 1
        }
        produces = {
            trigger = {
                bureaucrat_is_death_priest = yes
                exists = owner
                owner = { has_sacrificial_edict = yes }
            }
            unity = 3
        }
        produces = {
            trigger = {
                bureaucrat_is_haruspex = yes
            }
            unity = -1
            engineering_research = 2
        }
        upkeep = {
            sr_dark_matter = 2
        }
    }

    # FROM AOT
    #----------------------------------------<  Planet modifier  >--------------------------------------
    triggered_planet_modifier = {
        potential = {
            exists = planet
            planet = {
                check_modifier_value = {
                    modifier = planet_bureaucrats_stability_produces_add
                    value > 0
                }
            }
        }
        planet_stability_add = 1
        mult = planet.modifier:planet_bureaucrats_stability_produces_add
    }
    ## Ethics Attraction
    triggered_planet_modifier = {
        potential = {
            bureaucrat_is_culture_worker = yes
        }
        pop_government_ethic_attraction = 0.10
    }
    triggered_planet_modifier = {
        potential = {
            planet = {
                has_active_building = building_league_offices
            }
        }
        planet_amenities_add = 100
        mult = value:scripted_modifier_mult|MODIFIER|pop_job_amenities_mult|
    }
    triggered_country_modifier = {
        potential = {
            exists = owner
            owner = { has_valid_civic = civic_efficient_bureaucracy }
        }
        country_edict_fund_add = 2
        mult = value:job_total_output_modifier|JOB|bureaucrat|RESOURCE|unity|
    }
    triggered_planet_modifier = {
        potential = {
            planet = {
                exists = owner
                owner = {
                    has_tradition = tr_modularity_4
                }
            }
        }
        planet_jobs_worker_produces_mult = 0.02
    }
    #-------------------------------------------<  Memoralist  >----------------------------------------
    triggered_country_modifier = {
        potential = {
            exists = owner
            owner = { is_militarist = yes }
            prev.planet = {
                bureaucrat_is_memorialist = yes
            }
        }
        country_naval_cap_add = 0.5
        mult = value:scripted_ethics_weight_mult|ETHIC|militarist|
    }
    triggered_planet_modifier = {
        potential = {
            exists = owner
            owner = { is_pacifist = yes }
            planet = {
                bureaucrat_is_memorialist = yes
            }
        }
        planet_amenities_add = 100
        mult = value:scripted_modifier_ethics_weight_mult|MODIFIER|pop_job_amenities_mult|ETHIC|pacifist|
    }
    triggered_country_modifier = {
        potential = {
            exists = owner
            owner = { is_authoritarian = yes }
            prev.planet = {
                bureaucrat_is_memorialist = yes
            }
        }
        country_edict_fund_add = 1
        mult = value:scripted_ethics_weight_mult|ETHIC|authoritarian|
    }
    triggered_planet_modifier = {
        potential = {
            exists = owner
            owner = { is_xenophobe = yes }
            planet = {
                bureaucrat_is_memorialist = yes
            }
        }
        pop_citizen_happiness = 0.00625
        mult = value:scripted_ethics_weight_mult|ETHIC|xenophobe|
    }
    triggered_planet_modifier = {
        potential = {
            exists = owner
            owner = { is_xenophile = yes }
            planet = {
                bureaucrat_is_memorialist = yes
            }
        }
        planet_pops_upkeep_mult = -0.00625
        mult = value:scripted_ethics_weight_mult|ETHIC|xenophile|
    }

    weight = {
        weight = @specialist_job_weight
        mult = value:job_weights_modifier|JOB|bureaucrat|RESOURCE|unity|
        mult = value:scripted_modifier_job_weight_mult|MODIFIER|pop_job_amenities_mult|
        modifier = {
            factor = 0.2
            has_citizenship_rights = no
            NOT = { has_trait = trait_mechanical }
        }
        modifier = {
            factor = 2
            exists = owner
            owner = { has_civic = civic_exalted_priesthood }
        }
        modifier = {
            factor = 0.1
            can_take_servant_job = yes
        }
        modifier = {
            factor = 0.1
            is_enslaved = yes
            has_slavery_type = { type = slavery_indentured }
        }
    }

    inline_script = "jobs/automodding_priority_unity"
}


# megumin: renamed job to have prefix to prevent any unforseen conflicts (inline with theta job)

# priest: 		16 / X / 42 / 126
# bureaucrat: 	15 / 30 / 50 / 150
# i have no idea why bureaucrat is more than priest
# coordinator:	15 / 30 / 44 / 132
# synapse:		15 / 30 / 44 / 132

# Machine Coordinator

anz_voidframe_admin_drone_dm = {
	category = complex_drone
	condition_string = DRONE_JOB_TRIGGER
	# icon = admin_dm
	building_icon = building_acot_dm_ancient_control_center
	
	possible_pre_triggers = {
		has_owner = yes
		is_enslaved = no
		is_being_purged = no
		is_being_assimilated = no
	}

	possible_precalc = can_fill_drone_job
	possible = { can_think = yes }

	resources = {
		category = planet_administrators	
		produces = {
			unity = 15
		}
		upkeep = {
			sr_dark_matter = 1
			acot_sr_dark_energy = 2
			energy = 10
		}
	}

	weight = {
		weight = @complex_drone_job_weight
		mult = value:job_weights_modifier|JOB|coordinator|RESOURCE|unity|
		modifier = {
			factor = 1.5
			has_job = anz_voidframe_admin_drone_dm
		}
	}

	inline_script = "jobs/automodding_priority_unity"
}

anz_voidframe_admin_drone_de = {
	category = complex_drone
	condition_string = DRONE_JOB_TRIGGER
	#icon = admin_de
	building_icon = building_acot_ae_ancient_control_center
	
	possible_pre_triggers = {
		has_owner = yes
		is_enslaved = no
		is_being_purged = no
		is_being_assimilated = no
	}

	possible_precalc = can_fill_drone_job
	possible = { can_think = yes }

	resources = {
		category = planet_administrators	
		produces = {
			unity = 30
		}
		upkeep = {
			sr_dark_matter = 2
			acot_sr_dark_energy = 4
			energy = 10
		}
	}

	weight = {
		weight = @complex_drone_job_weight
		mult = value:job_weights_modifier|JOB|coordinator|RESOURCE|unity|
		modifier = {
			factor = 1.5
			has_job = anz_voidframe_admin_drone_de
		}
	}

	inline_script = "jobs/automodding_priority_unity"
}

anz_voidframe_admin_drone_pe = {
	category = complex_drone
	condition_string = DRONE_JOB_TRIGGER
	#icon = admin_pe
	building_icon = building_phanon_control_center
	
	possible_pre_triggers = {
		has_owner = yes
		is_enslaved = no
		is_being_purged = no
		is_being_assimilated = no
	}

	possible_precalc = can_fill_drone_job
	possible = { can_think = yes }

	resources = {
		category = planet_administrators	
		produces = {
			unity = 44
		}
		upkeep = {
			aot_sr_runic_power = 6
			energy = 10
		}
	}

	weight = {
		weight = @complex_drone_job_weight
		mult = value:job_weights_modifier|JOB|coordinator|RESOURCE|unity|
		modifier = {
			factor = 1.5
			has_job = anz_voidframe_admin_drone_pe
		}
	}
}

anz_voidframe_admin_drone_se = {
	category = complex_drone
	condition_string = DRONE_JOB_TRIGGER
	#icon = admin_se
	building_icon = building_stellarite_control_center
	
	possible_pre_triggers = {
		has_owner = yes
		is_enslaved = no
		is_being_purged = no
		is_being_assimilated = no
	}

	possible_precalc = can_fill_drone_job
	possible = { can_think = yes }

	resources = {
		category = planet_administrators	
		produces = {
			unity = 132
		}
		upkeep = {
			acot_sr_stellarite = 7
			energy = 15
		}
	}

	weight = {
		weight = @complex_drone_job_weight
		mult = value:job_weights_modifier|JOB|coordinator|RESOURCE|unity|
		modifier = {
			factor = 1.5
			has_job = anz_voidframe_admin_drone_se
		}
	}
}

# Hive Synapse

anz_voidframe_synapse_drone_dm = {
	category = complex_drone
	condition_string = DRONE_JOB_TRIGGER
	#icon = synapse_dm
	building_icon = building_acot_dm_ancient_hive_cluster
	
	possible_pre_triggers = {
		has_owner = yes
		is_enslaved = no
		is_being_purged = no
		is_being_assimilated = no
	}

	possible_precalc = can_fill_drone_job
	possible = { can_think = yes }

	resources = {
		category = planet_administrators	
		produces = {
			unity = 15
		}
		upkeep = {
			sr_dark_matter = 1
			acot_sr_dark_energy = 2
			food = 4
			minerals = 4
		}
	}

	weight = {
		weight = @complex_drone_job_weight
		mult = value:job_weights_modifier|JOB|coordinator|RESOURCE|unity|
		modifier = {
			factor = 1.5
			has_job = anz_voidframe_synapse_drone_dm
		}
	}

	inline_script = "jobs/automodding_priority_unity"
}

anz_voidframe_synapse_drone_de = {
	category = complex_drone
	condition_string = DRONE_JOB_TRIGGER
	#icon = synapse_de
	building_icon = building_acot_ae_ancient_hive_cluster
	
	possible_pre_triggers = {
		has_owner = yes
		is_enslaved = no
		is_being_purged = no
		is_being_assimilated = no
	}

	possible_precalc = can_fill_drone_job
	possible = { can_think = yes }

	resources = {
		category = planet_administrators	
		produces = {
			unity = 30
		}
		upkeep = {
			sr_dark_matter = 2
			acot_sr_dark_energy = 4
			food = 4
			minerals = 4
		}
	}

	weight = {
		weight = @complex_drone_job_weight
		mult = value:job_weights_modifier|JOB|coordinator|RESOURCE|unity|
		modifier = {
			factor = 1.5
			has_job = anz_voidframe_synapse_drone_de
		}
	}

	inline_script = "jobs/automodding_priority_unity"
}

anz_voidframe_synapse_drone_pe = {
	category = complex_drone
	condition_string = DRONE_JOB_TRIGGER
	#icon = synapse_pe
	building_icon = building_phanon_hive_cluster
	
	possible_pre_triggers = {
		has_owner = yes
		is_enslaved = no
		is_being_purged = no
		is_being_assimilated = no
	}

	possible_precalc = can_fill_drone_job
	possible = { can_think = yes }

	resources = {
		category = planet_administrators	
		produces = {
			unity = 44
		}
		upkeep = {
			aot_sr_runic_power = 6
			energy = 10
		}
	}

	weight = {
		weight = @complex_drone_job_weight
		mult = value:job_weights_modifier|JOB|coordinator|RESOURCE|unity|
		modifier = {
			factor = 1.5
			has_job = anz_voidframe_synapse_drone_pe
		}
	}
}

anz_voidframe_synapse_drone_se = {
	category = complex_drone
	condition_string = DRONE_JOB_TRIGGER
	#icon = synapse_se
	building_icon = building_stellarite_hive_cluster
	
	possible_pre_triggers = {
		has_owner = yes
		is_enslaved = no
		is_being_purged = no
		is_being_assimilated = no
	}

	possible_precalc = can_fill_drone_job
	possible = { can_think = yes }

	resources = {
		category = planet_administrators	
		produces = {
			unity = 132
		}
		upkeep = {
			acot_sr_stellarite = 7
			energy = 15
		}
	}

	weight = {
		weight = @complex_drone_job_weight
		mult = value:job_weights_modifier|JOB|coordinator|RESOURCE|unity|
		modifier = {
			factor = 1.5
			has_job = anz_voidframe_synapse_drone_se
		}
	}
}

# Trader jobs
# I REALLY HOPE THAT THESE ARE TEMPORARY

# clerks: 6 / 12 / 25 / 50
# vanilla trader is 8 vs 3 of clerk
# trader: 16 / 32 / 64 / 128
# TODO: need gestalt version

anz_voidframe_trader_de = {
	category = specialist
    swappable_data = {
        default = {
            condition_string = SPECIALIST_JOB_TRIGGER
            building_icon = building_ae_commercial_megaplex
            icon = anz_voidframe_trader_de
        }
    }
	
	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_specialist_job
	possible = { complex_specialist_job_check_trigger = yes }

	resources = {
		category = planet_traders
        produces = {
            trade = 50
        }
		upkeep = {
			sr_dark_matter = 2
			acot_sr_dark_energy = 2
			#vanilla trader has half compared to vanilla bureacrat / researcher, attempted to keep that ratio
		}
	}

    triggered_planet_modifier = {
        potential = {
            always = yes
        }
        planet_amenities_add = 600
        mult = value:scripted_modifier_mult|MODIFIER|pop_job_amenities_mult|
    }

    weight = {
        weight = @specialist_job_weight
        mult = value:job_weights_modifier|JOB|anz_voidframe_trader_de|RESOURCE|trade|
        mult = value:scripted_modifier_job_weight_mult|MODIFIER|pop_job_amenities_mult|
        # crisis purge
        modifier = {
            factor = 0.01
            exists = planet
            exists = planet.controller
            planet.controller = {
                OR = {
                    is_country_type = swarm
                    is_country_type = ai_empire
                }
            }
            OR = { # contingency won't purge itself
                NOT = { exists = event_target:custodian_bot }
                AND = {
                    exists = event_target:custodian_bot
                    NOT = { species = { is_same_value = event_target:custodian_bot } }
                }
            }
        }
    }

	inline_script = "jobs/automodding_priority_trade"
}

anz_voidframe_trader_pe = {
	category = specialist
    swappable_data = {
        default = {
            condition_string = SPECIALIST_JOB_TRIGGER
            building_icon = building_phanon_commercial_megaplex
            icon = anz_voidframe_trader_pe
        }
    }
	
	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_specialist_job
	possible = { complex_specialist_job_check_trigger = yes }

	resources = {
		category = planet_traders
        produces = {
            trade = 80
        }
		upkeep = {
			aot_sr_runic_power = 4
			#vanilla trader has half compared to vanilla bureacrat / researcher, attempted to keep that ratio
		}
	}

    triggered_planet_modifier = {
        potential = {
            always = yes
        }
        planet_amenities_add = 750
        mult = value:scripted_modifier_mult|MODIFIER|pop_job_amenities_mult|
    }

    weight = {
        weight = @specialist_job_weight
        mult = value:job_weights_modifier|JOB|anz_voidframe_trader_pe|RESOURCE|trade|
        mult = value:scripted_modifier_job_weight_mult|MODIFIER|pop_job_amenities_mult|
        # crisis purge
        modifier = {
            factor = 0.01
            exists = planet
            exists = planet.controller
            planet.controller = {
                OR = {
                    is_country_type = swarm
                    is_country_type = ai_empire
                }
            }
            OR = { # contingency won't purge itself
                NOT = { exists = event_target:custodian_bot }
                AND = {
                    exists = event_target:custodian_bot
                    NOT = { species = { is_same_value = event_target:custodian_bot } }
                }
            }
        }
    }

	inline_script = "jobs/automodding_priority_trade"
}

anz_voidframe_trader_se = {
	category = specialist
    swappable_data = {
        default = {
            condition_string = SPECIALIST_JOB_TRIGGER
            building_icon = building_stellarite_commercial_megaplex
            icon = anz_voidframe_trader_se
        }
    }
	
	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_specialist_job
	possible = { complex_specialist_job_check_trigger = yes }

	resources = {
		category = planet_traders
        produces = {
            trade = 128
        }
		upkeep = {
			acot_sr_stellarite = 4
			#vanilla trader has half compared to vanilla bureacrat / researcher, attempted to keep that ratio
		}
	}

    triggered_planet_modifier = {
        potential = {
            always = yes
        }
        planet_amenities_add = 900
        mult = value:scripted_modifier_mult|MODIFIER|pop_job_amenities_mult|
    }

    weight = {
        weight = @specialist_job_weight
        mult = value:job_weights_modifier|JOB|anz_voidframe_trader_se|RESOURCE|trade|
        mult = value:scripted_modifier_job_weight_mult|MODIFIER|pop_job_amenities_mult|
        # crisis purge
        modifier = {
            factor = 0.01
            exists = planet
            exists = planet.controller
            planet.controller = {
                OR = {
                    is_country_type = swarm
                    is_country_type = ai_empire
                }
            }
            OR = { # contingency won't purge itself
                NOT = { exists = event_target:custodian_bot }
                AND = {
                    exists = event_target:custodian_bot
                    NOT = { species = { is_same_value = event_target:custodian_bot } }
                }
            }
        }
    }

	inline_script = "jobs/automodding_priority_trade"
}


# Theta Basic
anz_voidframe_meditator = {
	category = specialist
	condition_string = SPECIALIST_JOB_TRIGGER
	icon = giga_amb_fe_celestial_architect
	building_icon = building_ae_dimensional_fabricator

	possible_pre_triggers = {
		has_owner = yes
		is_sapient = yes
		is_enslaved = no
		is_being_purged = no
		is_being_assimilated = no
	}

	possible_precalc = can_fill_specialist_job
	possible = { complex_specialist_job_check_trigger = yes }

	resources = {
		category = planet_metallurgists

		produces = {
			sm_sr_perfect_runic_energy = 0.2
		}
		upkeep = {
		}
	}

	weight = {
		weight = @specialist_job_weight
		modifier = {
			factor = 5
			has_job = anz_voidframe_meditator
		}
	}
}

anz_voidframe_meditator_drone = {
	category = complex_drone
	condition_string = DRONE_JOB_TRIGGER
	icon = giga_amb_fe_celestial_architect
	building_icon = building_ae_dimensional_fabricator

	possible_pre_triggers = {
		has_owner = yes
		is_sapient = yes
		is_enslaved = no
		is_being_purged = no
		is_being_assimilated = no
	}

	possible_precalc = can_fill_drone_job
	possible = { can_think = yes }

	resources = {
		category = planet_metallurgists

		produces = {
			sm_sr_perfect_runic_energy = 0.2
		}
		upkeep = {
		}
	}

	weight = {
		weight = @complex_drone_job_weight
		modifier = {
			factor = 5
			has_job = anz_voidframe_meditator_drone
		}
	}
}